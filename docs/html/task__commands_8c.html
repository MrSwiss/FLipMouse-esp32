<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLipMouse/FABI ESP32 firmware: /home/beni/sync/Projects/FH/FLipMouse-esp32/main/function_tasks/task_commands.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FLipMouse/FABI ESP32 firmware
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_5c982d53a68cdbcd421152b4020263a9.html">main</a></li><li class="navelem"><a class="el" href="dir_dd44d79ba9a472f66a6851d54403189f.html">function_tasks</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">task_commands.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>CONTINOUS TASK - Main command parser for serial AT commands.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="task__commands_8h_source.html">task_commands.h</a>&quot;</code><br />
</div>
<p><a href="task__commands_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7ce0df38eb467e59f209470c8f5ac4e6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a7ce0df38eb467e59f209470c8f5ac4e6">LOG_TAG</a>&#160;&#160;&#160;&quot;cmdparser&quot;</td></tr>
<tr class="separator:a7ce0df38eb467e59f209470c8f5ac4e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4d8475ff8191eec64ec75fa4241f187"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#ad4d8475ff8191eec64ec75fa4241f187">CMD</a>(x)&#160;&#160;&#160;(memcmp(cmdBuffer,x,5) == 0)</td></tr>
<tr class="separator:ad4d8475ff8191eec64ec75fa4241f187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3857f5c8268c235bcaf6beb2cf5edfee"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a3857f5c8268c235bcaf6beb2cf5edfee">CMD4</a>(x)&#160;&#160;&#160;(memcmp(cmdBuffer,x,4) == 0)</td></tr>
<tr class="separator:a3857f5c8268c235bcaf6beb2cf5edfee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a9d6dfce3cb5edf05065b6dc2b175776d"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="task__commands_8c.html#a7860b6904b2ba2dd906d189ada5f1e17">pstate</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a></td></tr>
<tr class="memdesc:a9d6dfce3cb5edf05065b6dc2b175776d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current state of parser.  <a href="#a9d6dfce3cb5edf05065b6dc2b175776d">More...</a><br /></td></tr>
<tr class="separator:a9d6dfce3cb5edf05065b6dc2b175776d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a7860b6904b2ba2dd906d189ada5f1e17"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a7860b6904b2ba2dd906d189ada5f1e17">pstate</a> { <a class="el" href="task__commands_8c.html#a7860b6904b2ba2dd906d189ada5f1e17a8bb584db01e5ebc3a3d4d84157cebc3d">NOACTION</a>, 
<a class="el" href="task__commands_8c.html#a7860b6904b2ba2dd906d189ada5f1e17a8430aa1deedfa38beb0b766f5f2ab411">WAITFORNEWATCMD</a>, 
<a class="el" href="task__commands_8c.html#a7860b6904b2ba2dd906d189ada5f1e17a88d52d035be8cb7e2c0c9c3acc76dc6d">UNKNOWNCMD</a>, 
<a class="el" href="task__commands_8c.html#a7860b6904b2ba2dd906d189ada5f1e17a50c64ae796b6cf92c249f1a90f98a992">TRIGGERTASK</a>
 }<tr class="memdesc:a7860b6904b2ba2dd906d189ada5f1e17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current state of parser.  <a href="task__commands_8c.html#a7860b6904b2ba2dd906d189ada5f1e17">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a7860b6904b2ba2dd906d189ada5f1e17"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acea81ba8a182ae78feb2db6418fc1806"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#acea81ba8a182ae78feb2db6418fc1806">sendErrorBack</a> (const char *extrainfo)</td></tr>
<tr class="separator:acea81ba8a182ae78feb2db6418fc1806"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad59215648a26578c22baa7ceae099e0e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#ad59215648a26578c22baa7ceae099e0e">printAllSlots</a> (uint8_t printconfig)</td></tr>
<tr class="memdesc:ad59215648a26578c22baa7ceae099e0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the current slot configurations (general settings + VBs)  <a href="#ad59215648a26578c22baa7ceae099e0e">More...</a><br /></td></tr>
<tr class="separator:ad59215648a26578c22baa7ceae099e0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf3aa67816eecac3e756189c9d61cbd2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#adf3aa67816eecac3e756189c9d61cbd2">checkqueues</a> (void)</td></tr>
<tr class="separator:adf3aa67816eecac3e756189c9d61cbd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ad28759e53bb5082853d8d004767115"><td class="memItemLeft" align="right" valign="top"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a2ad28759e53bb5082853d8d004767115">doMouthpieceSettingsParsing</a> (uint8_t *cmdBuffer, <a class="el" href="common_8h.html#a735049d5abb65dcaa7ba76917158a3b3">taskNoParameterConfig_t</a> *instance)</td></tr>
<tr class="separator:a2ad28759e53bb5082853d8d004767115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69b0c55558b32caa21407de8e2277be9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a69b0c55558b32caa21407de8e2277be9">doStorageParsing</a> (uint8_t *cmdBuffer, <a class="el" href="config__switcher_8h.html#aa6d38946df351bfaec1994fdb081e7db">taskConfigSwitcherConfig_t</a> *instance)</td></tr>
<tr class="separator:a69b0c55558b32caa21407de8e2277be9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc7ebe31a124c2102f8b41577b6dc5b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#afc7ebe31a124c2102f8b41577b6dc5b0">doJoystickParsing</a> (uint8_t *cmdBuffer, <a class="el" href="task__joystick_8h.html#aed3c0e0d7e7152cbf835beec3ae45bb9">taskJoystickConfig_t</a> *instance, int length)</td></tr>
<tr class="separator:afc7ebe31a124c2102f8b41577b6dc5b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a937cdeb2f02b0c5d9a0f94a0f69e9328"><td class="memItemLeft" align="right" valign="top"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a937cdeb2f02b0c5d9a0f94a0f69e9328">doInfraredParsing</a> (uint8_t *cmdBuffer, <a class="el" href="task__infrared_8h.html#ae79eca562c950fdefa5b55c65e44c1f4">taskInfraredConfig_t</a> *instance)</td></tr>
<tr class="separator:a937cdeb2f02b0c5d9a0f94a0f69e9328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f6500be563a3dce7f0854fceed02fab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a7f6500be563a3dce7f0854fceed02fab">doGeneralCmdParsing</a> (uint8_t *cmdBuffer)</td></tr>
<tr class="separator:a7f6500be563a3dce7f0854fceed02fab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3c72c089d32dea93c45f4f9f8d1f244"><td class="memItemLeft" align="right" valign="top"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#ac3c72c089d32dea93c45f4f9f8d1f244">doKeyboardParsing</a> (uint8_t *cmdBuffer, <a class="el" href="task__kbd_8h.html#a1ea00a7b13dc2b804f53e6f79cb89f2c">taskKeyboardConfig_t</a> *kbdinstance, int length)</td></tr>
<tr class="separator:ac3c72c089d32dea93c45f4f9f8d1f244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdd5ac250a84f0f62d23f174b7366432"><td class="memItemLeft" align="right" valign="top"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#acdd5ac250a84f0f62d23f174b7366432">doMacroParsing</a> (uint8_t *cmdBuffer, <a class="el" href="task__macros_8h.html#a53ebc7d166c7d671841c937b0820ddfb">taskMacrosConfig_t</a> *macroinstance, int length)</td></tr>
<tr class="separator:acdd5ac250a84f0f62d23f174b7366432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a580d9f6a840975525358033a35f761d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a580d9f6a840975525358033a35f761d0">doMouseParsing</a> (uint8_t *cmdBuffer, <a class="el" href="task__mouse_8h.html#aa8af5afb3b111ccabb1e207ae4cabcaa">taskMouseConfig_t</a> *mouseinstance)</td></tr>
<tr class="separator:a580d9f6a840975525358033a35f761d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b36c39275d773aaedcb327ef4e1516f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f">task_commands</a> (void *params)</td></tr>
<tr class="separator:a7b36c39275d773aaedcb327ef4e1516f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedb896e40753227f80768e09d3748419"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#aedb896e40753227f80768e09d3748419">taskCommandsInit</a> (void)</td></tr>
<tr class="memdesc:aedb896e40753227f80768e09d3748419"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init the command parser.  <a href="#aedb896e40753227f80768e09d3748419">More...</a><br /></td></tr>
<tr class="separator:aedb896e40753227f80768e09d3748419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26091155b4d85093239033d689f363d0"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a26091155b4d85093239033d689f363d0">taskCommandsRestart</a> (void)</td></tr>
<tr class="memdesc:a26091155b4d85093239033d689f363d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restart the command parser task.  <a href="#a26091155b4d85093239033d689f363d0">More...</a><br /></td></tr>
<tr class="separator:a26091155b4d85093239033d689f363d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1441452b2b1c337c41096e3d0bf2fdd6"><td class="memItemLeft" align="right" valign="top">static TaskHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a1441452b2b1c337c41096e3d0bf2fdd6">currentCommandTask</a> = NULL</td></tr>
<tr class="separator:a1441452b2b1c337c41096e3d0bf2fdd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c73c48b3f99599795437a9a22ed98d5"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a9c73c48b3f99599795437a9a22ed98d5">requestVBTask</a> )(void *) = NULL</td></tr>
<tr class="separator:a9c73c48b3f99599795437a9a22ed98d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72a3465e14641646907f99794f88e6dc"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a72a3465e14641646907f99794f88e6dc">requestVBParameterSize</a> = 0</td></tr>
<tr class="separator:a72a3465e14641646907f99794f88e6dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2d17c65b4d8f49e32ffb6987bb33ac5"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#aa2d17c65b4d8f49e32ffb6987bb33ac5">requestVBParameter</a> = NULL</td></tr>
<tr class="separator:aa2d17c65b4d8f49e32ffb6987bb33ac5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2fcbc3f27a33e58b92d0b0a979a3b33"><td class="memItemLeft" align="right" valign="top"><a class="el" href="common_8h.html#ac27b6f4710923c6689834e86aea228ac">command_type_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#af2fcbc3f27a33e58b92d0b0a979a3b33">requestVBType</a> = <a class="el" href="common_8h.html#ac27b6f4710923c6689834e86aea228aca43adee93f5ac14f200b55ebb92de2cd4">T_NOFUNCTION</a></td></tr>
<tr class="separator:af2fcbc3f27a33e58b92d0b0a979a3b33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a598fa24559f0c3a64692abf7764545d9"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a598fa24559f0c3a64692abf7764545d9">requestUpdate</a> = 0</td></tr>
<tr class="separator:a598fa24559f0c3a64692abf7764545d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92f6cea4b2f3b9af0abce6f8fcf3da97"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a92f6cea4b2f3b9af0abce6f8fcf3da97">requestVBUpdate</a> = <a class="el" href="common_8h.html#a784ceb4b2d4c4fb77baa99646c6e5035">VB_SINGLESHOT</a></td></tr>
<tr class="memdesc:a92f6cea4b2f3b9af0abce6f8fcf3da97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Currently used virtual button number.  <a href="#a92f6cea4b2f3b9af0abce6f8fcf3da97">More...</a><br /></td></tr>
<tr class="separator:a92f6cea4b2f3b9af0abce6f8fcf3da97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>CONTINOUS TASK - Main command parser for serial AT commands. </p>
<p>This module is used to parse any incoming serial data from hal_serial for valid AT commands. If a valid command is detected, the corresponding action is triggered (mostly by invoking a FUNCTIONAL task in singleshot mode).</p>
<p>By issueing an <b>AT BM</b> command, the next issued AT command will be assigned to a virtual button. This is done via setting the requestVBUpdate variable to the VB number. One time only commands (without AT BM) are defined as VB==VB_SINGLESHOT</p>
<p>In addition, this parser also takes care of switching to CIM mode if requested. The other way from CIM to AT mode is done by the task_cim module by triggering taskCommandsRestart.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="common_8h.html#a784ceb4b2d4c4fb77baa99646c6e5035">VB_SINGLESHOT</a> </dd>
<dd>
task_cim </dd>
<dd>
hal_serial </dd>
<dd>
atcmd_api</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000007">Todo:</a></b></dt><dd>CIM switching</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Currently we are using unicode_to_keycode, because terminal programs use it this way. For supporting unicode keystreams (UTF-8), the method parse_for_keycode needs to be used </dd></dl>

<p class="definition">Definition in file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad4d8475ff8191eec64ec75fa4241f187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4d8475ff8191eec64ec75fa4241f187">&#9670;&nbsp;</a></span>CMD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;(memcmp(cmdBuffer,x,5) == 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Simple macro to short the command comparison (full AT cmd with 5 chars) </p>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00055">55</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00742">doGeneralCmdParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00582">doInfraredParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01042">doKeyboardParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01221">doMacroParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00146">doMouthpieceSettingsParsing()</a>, and <a class="el" href="task__commands_8c_source.html#l00384">doStorageParsing()</a>.</p>

</div>
</div>
<a id="a3857f5c8268c235bcaf6beb2cf5edfee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3857f5c8268c235bcaf6beb2cf5edfee">&#9670;&nbsp;</a></span>CMD4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD4</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;(memcmp(cmdBuffer,x,4) == 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Simple macro to short the command comparison (part of AT cmd with 4 chars) </p>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00058">58</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00742">doGeneralCmdParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00489">doJoystickParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01042">doKeyboardParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01247">doMouseParsing()</a>, and <a class="el" href="task__commands_8c_source.html#l00146">doMouthpieceSettingsParsing()</a>.</p>

</div>
</div>
<a id="a7ce0df38eb467e59f209470c8f5ac4e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ce0df38eb467e59f209470c8f5ac4e6">&#9670;&nbsp;</a></span>LOG_TAG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_TAG&#160;&#160;&#160;&quot;cmdparser&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tag for ESP_LOG logging </p>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00052">52</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00742">doGeneralCmdParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00582">doInfraredParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00489">doJoystickParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01042">doKeyboardParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01221">doMacroParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01247">doMouseParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00146">doMouthpieceSettingsParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00384">doStorageParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01574">printAllSlots()</a>, <a class="el" href="task__commands_8c_source.html#l00110">sendErrorBack()</a>, <a class="el" href="task__commands_8c_source.html#l01371">task_commands()</a>, and <a class="el" href="task__commands_8c_source.html#l01798">taskCommandsInit()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a9d6dfce3cb5edf05065b6dc2b175776d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d6dfce3cb5edf05065b6dc2b175776d">&#9670;&nbsp;</a></span>parserstate_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="task__commands_8c.html#a7860b6904b2ba2dd906d189ada5f1e17">pstate</a>  <a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current state of parser. </p>
<p>Following states are possible for the parser here:<br />
</p><ul>
<li><b>NOACTION</b> An AT command was found, but no further action is taken afterwards. E.g, AT AX sets the accleration directly to the config and requests a general update via setting requestUpdate to 1.</li>
<li><b>WAITFORNEWATCMD</b> In this case, AT BM was sent to set a new command for a virtual button. The next AT command will NOT be triggering anything. It will be used as new cmd. An error will be raised, if the following command cannot be used for VBs (e.g., AT AX).</li>
<li><b>UNKNOWNCMD</b> No command was found (is returned for each subparser if no command is found)</li>
<li><b>TRIGGERTASK</b> If this is returned by sub-parsers, the main task needs to trigger/process this command, either by assigning it to a VB or triggering it as singleshot task. </li>
</ul>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a7860b6904b2ba2dd906d189ada5f1e17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7860b6904b2ba2dd906d189ada5f1e17">&#9670;&nbsp;</a></span>pstate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="task__commands_8c.html#a7860b6904b2ba2dd906d189ada5f1e17">pstate</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current state of parser. </p>
<p>Following states are possible for the parser here:<br />
</p><ul>
<li><b>NOACTION</b> An AT command was found, but no further action is taken afterwards. E.g, AT AX sets the accleration directly to the config and requests a general update via setting requestUpdate to 1.</li>
<li><b>WAITFORNEWATCMD</b> In this case, AT BM was sent to set a new command for a virtual button. The next AT command will NOT be triggering anything. It will be used as new cmd. An error will be raised, if the following command cannot be used for VBs (e.g., AT AX).</li>
<li><b>UNKNOWNCMD</b> No command was found (is returned for each subparser if no command is found)</li>
<li><b>TRIGGERTASK</b> If this is returned by sub-parsers, the main task needs to trigger/process this command, either by assigning it to a VB or triggering it as singleshot task. </li>
</ul>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a7860b6904b2ba2dd906d189ada5f1e17a8bb584db01e5ebc3a3d4d84157cebc3d"></a>NOACTION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7860b6904b2ba2dd906d189ada5f1e17a8430aa1deedfa38beb0b766f5f2ab411"></a>WAITFORNEWATCMD&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7860b6904b2ba2dd906d189ada5f1e17a88d52d035be8cb7e2c0c9c3acc76dc6d"></a>UNKNOWNCMD&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7860b6904b2ba2dd906d189ada5f1e17a50c64ae796b6cf92c249f1a90f98a992"></a>TRIGGERTASK&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00106">106</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="adf3aa67816eecac3e756189c9d61cbd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf3aa67816eecac3e756189c9d61cbd2">&#9670;&nbsp;</a></span>checkqueues()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int checkqueues </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>just check all queues if they are initialized </p><dl class="section return"><dt>Returns</dt><dd>0 on uninitialized queues, 1 if all are initialized </dd></dl>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00127">127</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l01371">task_commands()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_adf3aa67816eecac3e756189c9d61cbd2_icgraph.png" border="0" usemap="#task__commands_8c_adf3aa67816eecac3e756189c9d61cbd2_icgraph" alt=""/></div>
<map name="task__commands_8c_adf3aa67816eecac3e756189c9d61cbd2_icgraph" id="task__commands_8c_adf3aa67816eecac3e756189c9d61cbd2_icgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="152,31,271,57"/>
<area shape="rect" id="node3" href="task__commands_8h.html#aedb896e40753227f80768e09d3748419" title="Init the command parser. " alt="" coords="331,5,463,32"/>
<area shape="rect" id="node5" href="task__commands_8h.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. " alt="" coords="319,56,476,83"/>
<area shape="rect" id="node4" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="524,5,603,32"/>
</map>
</div>

</div>
</div>
<a id="a7f6500be563a3dce7f0854fceed02fab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f6500be563a3dce7f0854fceed02fab">&#9670;&nbsp;</a></span>doGeneralCmdParsing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a> doGeneralCmdParsing </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>cmdBuffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000009">Todo:</a></b></dt><dd>parse anti-tremor commands here. </dd></dl>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00742">742</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l01371">task_commands()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a7f6500be563a3dce7f0854fceed02fab_cgraph.png" border="0" usemap="#task__commands_8c_a7f6500be563a3dce7f0854fceed02fab_cgraph" alt=""/></div>
<map name="task__commands_8c_a7f6500be563a3dce7f0854fceed02fab_cgraph" id="task__commands_8c_a7f6500be563a3dce7f0854fceed02fab_cgraph">
<area shape="rect" id="node2" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="1413,499,1535,525"/>
<area shape="rect" id="node3" href="task__commands_8c.html#acea81ba8a182ae78feb2db6418fc1806" title="sendErrorBack" alt="" coords="241,800,349,827"/>
<area shape="rect" id="node4" href="hal__serial_8c.html#af78683f30da18cfc19c2c91006ec6155" title="Send serial bytes to USB&#45;Serial (USB&#45;CDC) " alt="" coords="1612,859,1775,885"/>
<area shape="rect" id="node5" href="task__commands_8c.html#ad59215648a26578c22baa7ceae099e0e" title="Print the current slot configurations (general settings + VBs) " alt="" coords="489,564,581,591"/>
<area shape="rect" id="node6" href="hal__storage_8c.html#aead99606f84645b2bb6ae000461bf819" title="Start a storage transaction. " alt="" coords="689,93,869,120"/>
<area shape="rect" id="node10" href="hal__storage_8c.html#a00b5db14e24d7ada8a42aa6b3f1a1cb7" title="Finish a storage transaction. " alt="" coords="685,859,872,885"/>
<area shape="rect" id="node29" href="hal__storage_8c.html#aa545d76c7dcaafc129a03dfd9706ca7b" title="Store a string into NVS (global, no slot assignment) " alt="" coords="207,901,384,928"/>
<area shape="rect" id="node30" href="hal__ble_8h.html#accf307974a0046bce38582d0260bf841" title="Reset the BLE data. " alt="" coords="246,952,345,979"/>
<area shape="rect" id="node31" href="hal__serial_8c.html#ab2261f95747ee5806ebdec880d09ca89" title="Reset the serial HID report data. " alt="" coords="242,1003,349,1029"/>
<area shape="rect" id="node32" href="hal__storage_8c.html#a18ba4afaa3fc6e4c16180a79c330ad41" title="Get free memory (IR &amp; slot storage) " alt="" coords="230,1053,361,1080"/>
<area shape="rect" id="node33" href="hal__storage_8c.html#a8abf9a5b8727dc8d7cbe76ba0e2dcb6b" title="Delete one or all slots. " alt="" coords="462,43,607,69"/>
<area shape="rect" id="node34" href="hal__storage_8c.html#aae19bcf97360ccd7af4ddf906ff85141" title="Get the number of a slotname. " alt="" coords="432,409,637,436"/>
<area shape="rect" id="node8" href="hal__storage_8c.html#a7e0a934f829b47e2445189dd95e962d6" title="Get the number of stored slots. " alt="" coords="925,245,1120,272"/>
<area shape="rect" id="node11" href="hal__adc_8c.html#a4135bb73c2271b4a27db8d8d81884de7" title="Reload ADC config. " alt="" coords="707,589,850,616"/>
<area shape="rect" id="node18" href="hal__storage_8c.html#aed4beb2e1bd8cd78a201fbcb49958cba" title="Create a new default slot. " alt="" coords="696,336,861,363"/>
<area shape="rect" id="node21" href="hal__storage_8c.html#a2046481d14910cc6a5b0086a796f293b" title="Get the name of a slot number. " alt="" coords="920,195,1125,221"/>
<area shape="rect" id="node22" href="task__mouse_8c.html#a053f423dca1422f48f7ac0314cb94d8c" title="Reverse Parsing &#45; get AT command for mouse VB. " alt="" coords="711,387,846,413"/>
<area shape="rect" id="node23" href="task__kbd_8c.html#a43469aecbc3cd22a6ed1e6a73dc978bf" title="Reverse Parsing &#45; get AT command for keyboard VB. " alt="" coords="704,437,853,464"/>
<area shape="rect" id="node25" href="task__joystick_8c.html#a129da97dc396e856bc83c34c49f267a7" title="Reverse Parsing &#45; get AT command for joystick VB. " alt="" coords="708,539,849,565"/>
<area shape="rect" id="node26" href="config__switcher_8c.html#a68e6ddb2557b0bf3e2d84952feb0b5a5" title="Reverse Parsing &#45; get AT command for configswitcher VB. " alt="" coords="709,641,848,682"/>
<area shape="rect" id="node27" href="task__macros_8c.html#a6293da4c8fb7ee108ea2a61a3c7baa27" title="Reverse Parsing &#45; get AT command for macro VB. " alt="" coords="713,707,845,733"/>
<area shape="rect" id="node28" href="task__infrared_8c.html#a1e71679519e33c714fcdf3ce9023191e" title="Reverse Parsing &#45; get AT command for IR VB. " alt="" coords="709,757,848,784"/>
<area shape="rect" id="node7" href="hal__storage_8c.html#a606e5842dd354f1fb4a738ba95c6d5d1" title="internal function to init the filesystem if handle is invalid " alt="" coords="971,93,1074,120"/>
<area shape="rect" id="node9" href="hal__storage_8c.html#a4b6566ef5b69c85d422df52435c95d36" title="Internal helper to check for a valid WL handle and the correct tid. " alt="" coords="1190,245,1319,272"/>
<area shape="rect" id="node12" href="hal__adc_8c.html#aee719704e643d27c1faab768cf4bc22e" title="HAL TASK &#45; Threshold task for ADC. " alt="" coords="949,596,1097,623"/>
<area shape="rect" id="node17" href="hal__adc_8c.html#ae549c157d94729e8b06cb391f0f2c97b" title="Calibration function. " alt="" coords="1197,701,1312,728"/>
<area shape="rect" id="node13" href="hal__adc_8c.html#a5e0d74baf098e774b0e3aa0dab621987" title="Read out analog voltages, apply sensor gain and deadzone. " alt="" coords="1413,651,1535,677"/>
<area shape="rect" id="node14" href="hal__adc_8c.html#a8743abcde6f190545c429f072c16106d" title="Report raw values via serial interface. " alt="" coords="1410,549,1538,576"/>
<area shape="rect" id="node15" href="hal__adc_8c.html#a78419739020988cffc83ffcbc7103b05" title="Process pressure sensor (sip &amp; puff) " alt="" coords="1173,600,1336,627"/>
<area shape="rect" id="node16" href="hal__adc_8c.html#a3cddaa804609f2e34f3cbda1d43ff1b4" title="Trigger strong sip/puff + action according to input data. " alt="" coords="1384,600,1564,627"/>
<area shape="rect" id="node19" href="hal__storage_8c.html#aadf9ff06990d0f0af2eea2e6f2b8082a" title="Store a generalConfig_t struct. " alt="" coords="965,296,1080,323"/>
<area shape="rect" id="node20" href="hal__storage_8c.html#a046daab088cb37e318c07c2728ade9d3" title="Store a virtual button config struct. " alt="" coords="923,347,1122,373"/>
<area shape="rect" id="node24" href="keyboard_8c.html#a027266c03329f00b7bbfefd0e828463c" title="Parse a keycode to a key identifier. " alt="" coords="937,448,1108,475"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a7f6500be563a3dce7f0854fceed02fab_icgraph.png" border="0" usemap="#task__commands_8c_a7f6500be563a3dce7f0854fceed02fab_icgraph" alt=""/></div>
<map name="task__commands_8c_a7f6500be563a3dce7f0854fceed02fab_icgraph" id="task__commands_8c_a7f6500be563a3dce7f0854fceed02fab_icgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="207,31,325,57"/>
<area shape="rect" id="node3" href="task__commands_8h.html#aedb896e40753227f80768e09d3748419" title="Init the command parser. " alt="" coords="386,5,518,32"/>
<area shape="rect" id="node5" href="task__commands_8h.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. " alt="" coords="373,56,531,83"/>
<area shape="rect" id="node4" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="579,5,657,32"/>
</map>
</div>

</div>
</div>
<a id="a937cdeb2f02b0c5d9a0f94a0f69e9328"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a937cdeb2f02b0c5d9a0f94a0f69e9328">&#9670;&nbsp;</a></span>doInfraredParsing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a> doInfraredParsing </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>cmdBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="task__infrared_8h.html#ae79eca562c950fdefa5b55c65e44c1f4">taskInfraredConfig_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00582">582</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l01371">task_commands()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a937cdeb2f02b0c5d9a0f94a0f69e9328_cgraph.png" border="0" usemap="#task__commands_8c_a937cdeb2f02b0c5d9a0f94a0f69e9328_cgraph" alt=""/></div>
<map name="task__commands_8c_a937cdeb2f02b0c5d9a0f94a0f69e9328_cgraph" id="task__commands_8c_a937cdeb2f02b0c5d9a0f94a0f69e9328_cgraph">
<area shape="rect" id="node2" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="226,5,347,32"/>
<area shape="rect" id="node3" href="task__infrared_8c.html#a2950159444d03958630c6731bd1600c9" title="FUNCTIONAL TASK &#45; Infrared command sending. " alt="" coords="238,259,335,285"/>
<area shape="rect" id="node4" href="hal__storage_8c.html#aead99606f84645b2bb6ae000461bf819" title="Start a storage transaction. " alt="" coords="447,208,627,235"/>
<area shape="rect" id="node8" href="hal__storage_8c.html#a00b5db14e24d7ada8a42aa6b3f1a1cb7" title="Finish a storage transaction. " alt="" coords="444,309,631,336"/>
<area shape="rect" id="node9" href="hal__storage_8c.html#a8347d2c8df82d17bc9af1d007bfd11ae" title="Delete one or all IR commands. " alt="" coords="455,56,619,83"/>
<area shape="rect" id="node10" href="hal__storage_8c.html#a531bc39bc2808762298d14b79ac453cd" title="Get the number of an IR command. " alt="" coords="679,411,897,437"/>
<area shape="rect" id="node11" href="task__infrared_8c.html#a3b5b7c90c92398748f28c75b55edccda" title="Trigger an IR command recording. " alt="" coords="233,360,341,387"/>
<area shape="rect" id="node14" href="hal__serial_8c.html#af78683f30da18cfc19c2c91006ec6155" title="Send serial bytes to USB&#45;Serial (USB&#45;CDC) " alt="" coords="456,411,619,437"/>
<area shape="rect" id="node15" href="hal__storage_8c.html#a1495c793604980c76b334f6a6d553c3c" title="Get the number of stored IR commands. " alt="" coords="681,107,895,133"/>
<area shape="rect" id="node16" href="hal__storage_8c.html#a53912e9159b29e5fc974a127dbf0982f" title="Get the name of an infrared command stored at the given slot number. " alt="" coords="177,157,396,184"/>
<area shape="rect" id="node6" href="hal__storage_8c.html#aa728fac6a17066ecb910c19338ae5288" title="Load an IR command by name. " alt="" coords="725,259,851,285"/>
<area shape="rect" id="node5" href="hal__storage_8c.html#a606e5842dd354f1fb4a738ba95c6d5d1" title="internal function to init the filesystem if handle is invalid " alt="" coords="737,208,839,235"/>
<area shape="rect" id="node7" href="hal__storage_8c.html#a4b6566ef5b69c85d422df52435c95d36" title="Internal helper to check for a valid WL handle and the correct tid. " alt="" coords="945,259,1075,285"/>
<area shape="rect" id="node12" href="hal__storage_8c.html#ace0ac79b0e2b273d97e5b806de9eb493" title="Store an infrared command to storage. " alt="" coords="473,360,602,387"/>
<area shape="rect" id="node13" href="hal__storage_8c.html#ae5e6fcc8c1bdff7f78009830bc78f260" title="Get the number of first available slot for an IR command. " alt="" coords="690,360,886,387"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a937cdeb2f02b0c5d9a0f94a0f69e9328_icgraph.png" border="0" usemap="#task__commands_8c_a937cdeb2f02b0c5d9a0f94a0f69e9328_icgraph" alt=""/></div>
<map name="task__commands_8c_a937cdeb2f02b0c5d9a0f94a0f69e9328_icgraph" id="task__commands_8c_a937cdeb2f02b0c5d9a0f94a0f69e9328_icgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="177,31,296,57"/>
<area shape="rect" id="node3" href="task__commands_8h.html#aedb896e40753227f80768e09d3748419" title="Init the command parser. " alt="" coords="357,5,489,32"/>
<area shape="rect" id="node5" href="task__commands_8h.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. " alt="" coords="344,56,501,83"/>
<area shape="rect" id="node4" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="549,5,628,32"/>
</map>
</div>

</div>
</div>
<a id="afc7ebe31a124c2102f8b41577b6dc5b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc7ebe31a124c2102f8b41577b6dc5b0">&#9670;&nbsp;</a></span>doJoystickParsing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a> doJoystickParsing </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>cmdBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="task__joystick_8h.html#aed3c0e0d7e7152cbf835beec3ae45bb9">taskJoystickConfig_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00489">489</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l01371">task_commands()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_afc7ebe31a124c2102f8b41577b6dc5b0_cgraph.png" border="0" usemap="#task__commands_8c_afc7ebe31a124c2102f8b41577b6dc5b0_cgraph" alt=""/></div>
<map name="task__commands_8c_afc7ebe31a124c2102f8b41577b6dc5b0_cgraph" id="task__commands_8c_afc7ebe31a124c2102f8b41577b6dc5b0_cgraph">
<area shape="rect" id="node2" href="task__joystick_8c.html#a3040132b9cef8e73060fcd9c17dc116b" title="FUNCTIONAL TASK &#45; Trigger joystick action. " alt="" coords="187,397,286,424"/>
<area shape="rect" id="node4" href="task__commands_8c.html#acea81ba8a182ae78feb2db6418fc1806" title="sendErrorBack" alt="" coords="183,448,291,475"/>
<area shape="rect" id="node3" href="task__joystick_8c.html#aae46d678a14dfb122dee24d78cf9e829" title="Joystick command to HID bytebuffer. " alt="" coords="339,397,489,424"/>
<area shape="rect" id="node5" href="hal__serial_8c.html#af78683f30da18cfc19c2c91006ec6155" title="Send serial bytes to USB&#45;Serial (USB&#45;CDC) " alt="" coords="1464,309,1627,336"/>
<area shape="rect" id="node6" href="task__commands_8c.html#ad59215648a26578c22baa7ceae099e0e" title="Print the current slot configurations (general settings + VBs) " alt="" coords="368,448,460,475"/>
<area shape="rect" id="node7" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="1265,360,1387,387"/>
<area shape="rect" id="node8" href="hal__storage_8c.html#aead99606f84645b2bb6ae000461bf819" title="Start a storage transaction. " alt="" coords="541,347,721,373"/>
<area shape="rect" id="node10" href="hal__storage_8c.html#a7e0a934f829b47e2445189dd95e962d6" title="Get the number of stored slots. " alt="" coords="777,448,972,475"/>
<area shape="rect" id="node12" href="hal__storage_8c.html#a00b5db14e24d7ada8a42aa6b3f1a1cb7" title="Finish a storage transaction. " alt="" coords="537,549,724,576"/>
<area shape="rect" id="node13" href="hal__adc_8c.html#a4135bb73c2271b4a27db8d8d81884de7" title="Reload ADC config. " alt="" coords="559,245,702,272"/>
<area shape="rect" id="node20" href="hal__storage_8c.html#aed4beb2e1bd8cd78a201fbcb49958cba" title="Create a new default slot. " alt="" coords="548,499,713,525"/>
<area shape="rect" id="node23" href="hal__storage_8c.html#a2046481d14910cc6a5b0086a796f293b" title="Get the name of a slot number. " alt="" coords="772,397,977,424"/>
<area shape="rect" id="node24" href="task__mouse_8c.html#a053f423dca1422f48f7ac0314cb94d8c" title="Reverse Parsing &#45; get AT command for mouse VB. " alt="" coords="563,600,698,627"/>
<area shape="rect" id="node25" href="task__kbd_8c.html#a43469aecbc3cd22a6ed1e6a73dc978bf" title="Reverse Parsing &#45; get AT command for keyboard VB. " alt="" coords="556,651,705,677"/>
<area shape="rect" id="node27" href="task__joystick_8c.html#a129da97dc396e856bc83c34c49f267a7" title="Reverse Parsing &#45; get AT command for joystick VB. " alt="" coords="560,701,701,728"/>
<area shape="rect" id="node28" href="config__switcher_8c.html#a68e6ddb2557b0bf3e2d84952feb0b5a5" title="Reverse Parsing &#45; get AT command for configswitcher VB. " alt="" coords="561,753,700,794"/>
<area shape="rect" id="node29" href="task__macros_8c.html#a6293da4c8fb7ee108ea2a61a3c7baa27" title="Reverse Parsing &#45; get AT command for macro VB. " alt="" coords="565,5,697,32"/>
<area shape="rect" id="node30" href="task__infrared_8c.html#a1e71679519e33c714fcdf3ce9023191e" title="Reverse Parsing &#45; get AT command for IR VB. " alt="" coords="561,56,700,83"/>
<area shape="rect" id="node9" href="hal__storage_8c.html#a606e5842dd354f1fb4a738ba95c6d5d1" title="internal function to init the filesystem if handle is invalid " alt="" coords="823,347,926,373"/>
<area shape="rect" id="node11" href="hal__storage_8c.html#a4b6566ef5b69c85d422df52435c95d36" title="Internal helper to check for a valid WL handle and the correct tid. " alt="" coords="1042,499,1171,525"/>
<area shape="rect" id="node14" href="hal__adc_8c.html#aee719704e643d27c1faab768cf4bc22e" title="HAL TASK &#45; Threshold task for ADC. " alt="" coords="801,245,949,272"/>
<area shape="rect" id="node19" href="hal__adc_8c.html#ae549c157d94729e8b06cb391f0f2c97b" title="Calibration function. " alt="" coords="1049,157,1164,184"/>
<area shape="rect" id="node15" href="hal__adc_8c.html#a5e0d74baf098e774b0e3aa0dab621987" title="Read out analog voltages, apply sensor gain and deadzone. " alt="" coords="1265,208,1387,235"/>
<area shape="rect" id="node16" href="hal__adc_8c.html#a8743abcde6f190545c429f072c16106d" title="Report raw values via serial interface. " alt="" coords="1262,309,1390,336"/>
<area shape="rect" id="node17" href="hal__adc_8c.html#a78419739020988cffc83ffcbc7103b05" title="Process pressure sensor (sip &amp; puff) " alt="" coords="1025,259,1188,285"/>
<area shape="rect" id="node18" href="hal__adc_8c.html#a3cddaa804609f2e34f3cbda1d43ff1b4" title="Trigger strong sip/puff + action according to input data. " alt="" coords="1236,259,1416,285"/>
<area shape="rect" id="node21" href="hal__storage_8c.html#aadf9ff06990d0f0af2eea2e6f2b8082a" title="Store a generalConfig_t struct. " alt="" coords="817,499,932,525"/>
<area shape="rect" id="node22" href="hal__storage_8c.html#a046daab088cb37e318c07c2728ade9d3" title="Store a virtual button config struct. " alt="" coords="775,549,974,576"/>
<area shape="rect" id="node26" href="keyboard_8c.html#a027266c03329f00b7bbfefd0e828463c" title="Parse a keycode to a key identifier. " alt="" coords="789,651,960,677"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_afc7ebe31a124c2102f8b41577b6dc5b0_icgraph.png" border="0" usemap="#task__commands_8c_afc7ebe31a124c2102f8b41577b6dc5b0_icgraph" alt=""/></div>
<map name="task__commands_8c_afc7ebe31a124c2102f8b41577b6dc5b0_icgraph" id="task__commands_8c_afc7ebe31a124c2102f8b41577b6dc5b0_icgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="183,31,301,57"/>
<area shape="rect" id="node3" href="task__commands_8h.html#aedb896e40753227f80768e09d3748419" title="Init the command parser. " alt="" coords="362,5,494,32"/>
<area shape="rect" id="node5" href="task__commands_8h.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. " alt="" coords="349,56,507,83"/>
<area shape="rect" id="node4" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="555,5,633,32"/>
</map>
</div>

</div>
</div>
<a id="ac3c72c089d32dea93c45f4f9f8d1f244"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3c72c089d32dea93c45f4f9f8d1f244">&#9670;&nbsp;</a></span>doKeyboardParsing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a> doKeyboardParsing </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>cmdBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="task__kbd_8h.html#a1ea00a7b13dc2b804f53e6f79cb89f2c">taskKeyboardConfig_t</a> *&#160;</td>
          <td class="paramname"><em>kbdinstance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l01042">1042</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l01371">task_commands()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_ac3c72c089d32dea93c45f4f9f8d1f244_cgraph.png" border="0" usemap="#task__commands_8c_ac3c72c089d32dea93c45f4f9f8d1f244_cgraph" alt=""/></div>
<map name="task__commands_8c_ac3c72c089d32dea93c45f4f9f8d1f244_cgraph" id="task__commands_8c_ac3c72c089d32dea93c45f4f9f8d1f244_cgraph">
<area shape="rect" id="node2" href="task__kbd_8c.html#a8ff4618047a049178bfb1d60abfefb5d" title="FUNCTIONAL TASK &#45; trigger keyboard actions. " alt="" coords="220,81,327,108"/>
<area shape="rect" id="node6" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="1304,309,1425,336"/>
<area shape="rect" id="node7" href="keyboard_8c.html#add849eefda31316c7d22d45f49e261e2" title="Parse a decoded code point to a keycode, step 2. " alt="" coords="203,259,344,285"/>
<area shape="rect" id="node8" href="keyboard_8c.html#a6b593fa493aea40be410640981b1c181" title="Parse a keycode for deadkey input, step 3. " alt="" coords="201,309,346,336"/>
<area shape="rect" id="node9" href="keyboard_8c.html#a464318439ffe82e71e063a5c9582aa69" title="Mask the keycode to get the HID keycode, step 4. " alt="" coords="215,360,332,387"/>
<area shape="rect" id="node10" href="keyboard_8c.html#acdbf297ed74d4534f035e0732c2f1081" title="Mask the keycode to get the modifiers, step 5. " alt="" coords="202,411,345,437"/>
<area shape="rect" id="node11" href="task__commands_8c.html#acea81ba8a182ae78feb2db6418fc1806" title="sendErrorBack" alt="" coords="219,208,327,235"/>
<area shape="rect" id="node37" href="keyboard_8c.html#a74d92b54cde636cae76575e8b0cad378" title="Parse a key identifier to a keycode. " alt="" coords="188,461,359,488"/>
<area shape="rect" id="node38" href="keyboard_8c.html#aa5712a49152638257c16d39ea798a43e" title="Is this keycode a modifier? " alt="" coords="203,512,344,539"/>
<area shape="rect" id="node3" href="keyboard_8c.html#a5aebbf68f68f1d3212fb187ff156e5c1" title="Add a keycode to the given HID keycode array. " alt="" coords="418,5,517,32"/>
<area shape="rect" id="node4" href="task__kbd_8c.html#a8609b3c556a360ec16bdc31be0534f8e" title="Helper function sending to queues depending on connection type. " alt="" coords="431,56,504,83"/>
<area shape="rect" id="node5" href="keyboard_8c.html#a999cf21107da9c1a7e3797e72d95045b" title="Remove a keycode from the given HID keycode array. " alt="" coords="407,107,528,133"/>
<area shape="rect" id="node12" href="hal__serial_8c.html#af78683f30da18cfc19c2c91006ec6155" title="Send serial bytes to USB&#45;Serial (USB&#45;CDC) " alt="" coords="1503,360,1665,387"/>
<area shape="rect" id="node13" href="task__commands_8c.html#ad59215648a26578c22baa7ceae099e0e" title="Print the current slot configurations (general settings + VBs) " alt="" coords="421,563,513,589"/>
<area shape="rect" id="node14" href="hal__storage_8c.html#aead99606f84645b2bb6ae000461bf819" title="Start a storage transaction. " alt="" coords="579,461,759,488"/>
<area shape="rect" id="node16" href="hal__storage_8c.html#a7e0a934f829b47e2445189dd95e962d6" title="Get the number of stored slots. " alt="" coords="816,715,1011,741"/>
<area shape="rect" id="node18" href="hal__storage_8c.html#a00b5db14e24d7ada8a42aa6b3f1a1cb7" title="Finish a storage transaction. " alt="" coords="576,664,763,691"/>
<area shape="rect" id="node19" href="hal__adc_8c.html#a4135bb73c2271b4a27db8d8d81884de7" title="Reload ADC config. " alt="" coords="598,411,741,437"/>
<area shape="rect" id="node26" href="hal__storage_8c.html#aed4beb2e1bd8cd78a201fbcb49958cba" title="Create a new default slot. " alt="" coords="587,512,752,539"/>
<area shape="rect" id="node29" href="hal__storage_8c.html#a2046481d14910cc6a5b0086a796f293b" title="Get the name of a slot number. " alt="" coords="811,664,1016,691"/>
<area shape="rect" id="node30" href="task__mouse_8c.html#a053f423dca1422f48f7ac0314cb94d8c" title="Reverse Parsing &#45; get AT command for mouse VB. " alt="" coords="602,715,737,741"/>
<area shape="rect" id="node31" href="task__kbd_8c.html#a43469aecbc3cd22a6ed1e6a73dc978bf" title="Reverse Parsing &#45; get AT command for keyboard VB. " alt="" coords="595,765,744,792"/>
<area shape="rect" id="node33" href="task__joystick_8c.html#a129da97dc396e856bc83c34c49f267a7" title="Reverse Parsing &#45; get AT command for joystick VB. " alt="" coords="599,816,740,843"/>
<area shape="rect" id="node34" href="config__switcher_8c.html#a68e6ddb2557b0bf3e2d84952feb0b5a5" title="Reverse Parsing &#45; get AT command for configswitcher VB. " alt="" coords="600,867,739,909"/>
<area shape="rect" id="node35" href="task__macros_8c.html#a6293da4c8fb7ee108ea2a61a3c7baa27" title="Reverse Parsing &#45; get AT command for macro VB. " alt="" coords="603,259,735,285"/>
<area shape="rect" id="node36" href="task__infrared_8c.html#a1e71679519e33c714fcdf3ce9023191e" title="Reverse Parsing &#45; get AT command for IR VB. " alt="" coords="600,360,739,387"/>
<area shape="rect" id="node15" href="hal__storage_8c.html#a606e5842dd354f1fb4a738ba95c6d5d1" title="internal function to init the filesystem if handle is invalid " alt="" coords="862,461,965,488"/>
<area shape="rect" id="node17" href="hal__storage_8c.html#a4b6566ef5b69c85d422df52435c95d36" title="Internal helper to check for a valid WL handle and the correct tid. " alt="" coords="1081,613,1210,640"/>
<area shape="rect" id="node20" href="hal__adc_8c.html#aee719704e643d27c1faab768cf4bc22e" title="HAL TASK &#45; Threshold task for ADC. " alt="" coords="839,360,987,387"/>
<area shape="rect" id="node25" href="hal__adc_8c.html#ae549c157d94729e8b06cb391f0f2c97b" title="Calibration function. " alt="" coords="1088,512,1203,539"/>
<area shape="rect" id="node21" href="hal__adc_8c.html#a5e0d74baf098e774b0e3aa0dab621987" title="Read out analog voltages, apply sensor gain and deadzone. " alt="" coords="1304,461,1425,488"/>
<area shape="rect" id="node22" href="hal__adc_8c.html#a8743abcde6f190545c429f072c16106d" title="Report raw values via serial interface. " alt="" coords="1301,360,1429,387"/>
<area shape="rect" id="node23" href="hal__adc_8c.html#a78419739020988cffc83ffcbc7103b05" title="Process pressure sensor (sip &amp; puff) " alt="" coords="1064,411,1227,437"/>
<area shape="rect" id="node24" href="hal__adc_8c.html#a3cddaa804609f2e34f3cbda1d43ff1b4" title="Trigger strong sip/puff + action according to input data. " alt="" coords="1275,411,1455,437"/>
<area shape="rect" id="node27" href="hal__storage_8c.html#aadf9ff06990d0f0af2eea2e6f2b8082a" title="Store a generalConfig_t struct. " alt="" coords="856,563,971,589"/>
<area shape="rect" id="node28" href="hal__storage_8c.html#a046daab088cb37e318c07c2728ade9d3" title="Store a virtual button config struct. " alt="" coords="814,613,1013,640"/>
<area shape="rect" id="node32" href="keyboard_8c.html#a027266c03329f00b7bbfefd0e828463c" title="Parse a keycode to a key identifier. " alt="" coords="828,765,999,792"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_ac3c72c089d32dea93c45f4f9f8d1f244_icgraph.png" border="0" usemap="#task__commands_8c_ac3c72c089d32dea93c45f4f9f8d1f244_icgraph" alt=""/></div>
<map name="task__commands_8c_ac3c72c089d32dea93c45f4f9f8d1f244_icgraph" id="task__commands_8c_ac3c72c089d32dea93c45f4f9f8d1f244_icgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="188,31,307,57"/>
<area shape="rect" id="node3" href="task__commands_8h.html#aedb896e40753227f80768e09d3748419" title="Init the command parser. " alt="" coords="367,5,499,32"/>
<area shape="rect" id="node5" href="task__commands_8h.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. " alt="" coords="355,56,512,83"/>
<area shape="rect" id="node4" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="560,5,639,32"/>
</map>
</div>

</div>
</div>
<a id="acdd5ac250a84f0f62d23f174b7366432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdd5ac250a84f0f62d23f174b7366432">&#9670;&nbsp;</a></span>doMacroParsing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a> doMacroParsing </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>cmdBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="task__macros_8h.html#a53ebc7d166c7d671841c937b0820ddfb">taskMacrosConfig_t</a> *&#160;</td>
          <td class="paramname"><em>macroinstance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l01221">1221</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l01371">task_commands()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_acdd5ac250a84f0f62d23f174b7366432_cgraph.png" border="0" usemap="#task__commands_8c_acdd5ac250a84f0f62d23f174b7366432_cgraph" alt=""/></div>
<map name="task__commands_8c_acdd5ac250a84f0f62d23f174b7366432_cgraph" id="task__commands_8c_acdd5ac250a84f0f62d23f174b7366432_cgraph">
<area shape="rect" id="node2" href="task__macros_8c.html#a7acda2dcac23ebfffade8a15b40d219f" title="FUNCTIONAL TASK &#45; Macro execution. " alt="" coords="169,5,260,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_acdd5ac250a84f0f62d23f174b7366432_icgraph.png" border="0" usemap="#task__commands_8c_acdd5ac250a84f0f62d23f174b7366432_icgraph" alt=""/></div>
<map name="task__commands_8c_acdd5ac250a84f0f62d23f174b7366432_icgraph" id="task__commands_8c_acdd5ac250a84f0f62d23f174b7366432_icgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="169,31,288,57"/>
<area shape="rect" id="node3" href="task__commands_8h.html#aedb896e40753227f80768e09d3748419" title="Init the command parser. " alt="" coords="349,5,481,32"/>
<area shape="rect" id="node5" href="task__commands_8h.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. " alt="" coords="336,56,493,83"/>
<area shape="rect" id="node4" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="541,5,620,32"/>
</map>
</div>

</div>
</div>
<a id="a580d9f6a840975525358033a35f761d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a580d9f6a840975525358033a35f761d0">&#9670;&nbsp;</a></span>doMouseParsing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a> doMouseParsing </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>cmdBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="task__mouse_8h.html#aa8af5afb3b111ccabb1e207ae4cabcaa">taskMouseConfig_t</a> *&#160;</td>
          <td class="paramname"><em>mouseinstance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l01247">1247</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l01371">task_commands()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a580d9f6a840975525358033a35f761d0_cgraph.png" border="0" usemap="#task__commands_8c_a580d9f6a840975525358033a35f761d0_cgraph" alt=""/></div>
<map name="task__commands_8c_a580d9f6a840975525358033a35f761d0_cgraph" id="task__commands_8c_a580d9f6a840975525358033a35f761d0_cgraph">
<area shape="rect" id="node2" href="task__mouse_8c.html#aa8f5c0436e569589e735c419fc3d0ed8" title="FUNCTIONAL TASK &#45; Trigger mouse action. " alt="" coords="179,5,273,32"/>
<area shape="rect" id="node3" href="task__mouse_8c.html#ab5cfaaac2cd4ec6fc79546f847db96de" title="Get the current mouse wheel step size. " alt="" coords="328,56,455,83"/>
<area shape="rect" id="node5" href="task__commands_8c.html#acea81ba8a182ae78feb2db6418fc1806" title="sendErrorBack" alt="" coords="172,157,280,184"/>
<area shape="rect" id="node31" href="task__mouse_8c.html#ac5aaa616044b7bef9f75347719181dbe" title="Set current mouse wheel step size. " alt="" coords="328,107,455,133"/>
<area shape="rect" id="node4" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="1231,208,1352,235"/>
<area shape="rect" id="node6" href="hal__serial_8c.html#af78683f30da18cfc19c2c91006ec6155" title="Send serial bytes to USB&#45;Serial (USB&#45;CDC) " alt="" coords="1429,309,1592,336"/>
<area shape="rect" id="node7" href="task__commands_8c.html#ad59215648a26578c22baa7ceae099e0e" title="Print the current slot configurations (general settings + VBs) " alt="" coords="345,512,437,539"/>
<area shape="rect" id="node8" href="hal__storage_8c.html#aead99606f84645b2bb6ae000461bf819" title="Start a storage transaction. " alt="" coords="506,832,686,859"/>
<area shape="rect" id="node10" href="hal__storage_8c.html#a7e0a934f829b47e2445189dd95e962d6" title="Get the number of stored slots. " alt="" coords="743,781,937,808"/>
<area shape="rect" id="node12" href="hal__storage_8c.html#a00b5db14e24d7ada8a42aa6b3f1a1cb7" title="Finish a storage transaction. " alt="" coords="503,309,689,336"/>
<area shape="rect" id="node13" href="hal__adc_8c.html#a4135bb73c2271b4a27db8d8d81884de7" title="Reload ADC config. " alt="" coords="525,259,667,285"/>
<area shape="rect" id="node20" href="hal__storage_8c.html#aed4beb2e1bd8cd78a201fbcb49958cba" title="Create a new default slot. " alt="" coords="513,908,679,935"/>
<area shape="rect" id="node23" href="hal__storage_8c.html#a2046481d14910cc6a5b0086a796f293b" title="Get the name of a slot number. " alt="" coords="737,731,943,757"/>
<area shape="rect" id="node24" href="task__mouse_8c.html#a053f423dca1422f48f7ac0314cb94d8c" title="Reverse Parsing &#45; get AT command for mouse VB. " alt="" coords="529,411,663,437"/>
<area shape="rect" id="node25" href="task__kbd_8c.html#a43469aecbc3cd22a6ed1e6a73dc978bf" title="Reverse Parsing &#45; get AT command for keyboard VB. " alt="" coords="521,360,671,387"/>
<area shape="rect" id="node27" href="task__joystick_8c.html#a129da97dc396e856bc83c34c49f267a7" title="Reverse Parsing &#45; get AT command for joystick VB. " alt="" coords="525,512,667,539"/>
<area shape="rect" id="node28" href="config__switcher_8c.html#a68e6ddb2557b0bf3e2d84952feb0b5a5" title="Reverse Parsing &#45; get AT command for configswitcher VB. " alt="" coords="527,563,665,605"/>
<area shape="rect" id="node29" href="task__macros_8c.html#a6293da4c8fb7ee108ea2a61a3c7baa27" title="Reverse Parsing &#45; get AT command for macro VB. " alt="" coords="530,629,662,656"/>
<area shape="rect" id="node30" href="task__infrared_8c.html#a1e71679519e33c714fcdf3ce9023191e" title="Reverse Parsing &#45; get AT command for IR VB. " alt="" coords="527,680,665,707"/>
<area shape="rect" id="node9" href="hal__storage_8c.html#a606e5842dd354f1fb4a738ba95c6d5d1" title="internal function to init the filesystem if handle is invalid " alt="" coords="789,832,891,859"/>
<area shape="rect" id="node11" href="hal__storage_8c.html#a4b6566ef5b69c85d422df52435c95d36" title="Internal helper to check for a valid WL handle and the correct tid. " alt="" coords="1007,883,1137,909"/>
<area shape="rect" id="node14" href="hal__adc_8c.html#aee719704e643d27c1faab768cf4bc22e" title="HAL TASK &#45; Threshold task for ADC. " alt="" coords="766,259,914,285"/>
<area shape="rect" id="node19" href="hal__adc_8c.html#ae549c157d94729e8b06cb391f0f2c97b" title="Calibration function. " alt="" coords="1015,411,1129,437"/>
<area shape="rect" id="node15" href="hal__adc_8c.html#a5e0d74baf098e774b0e3aa0dab621987" title="Read out analog voltages, apply sensor gain and deadzone. " alt="" coords="1231,360,1352,387"/>
<area shape="rect" id="node16" href="hal__adc_8c.html#a8743abcde6f190545c429f072c16106d" title="Report raw values via serial interface. " alt="" coords="1227,309,1355,336"/>
<area shape="rect" id="node17" href="hal__adc_8c.html#a78419739020988cffc83ffcbc7103b05" title="Process pressure sensor (sip &amp; puff) " alt="" coords="991,259,1153,285"/>
<area shape="rect" id="node18" href="hal__adc_8c.html#a3cddaa804609f2e34f3cbda1d43ff1b4" title="Trigger strong sip/puff + action according to input data. " alt="" coords="1201,259,1381,285"/>
<area shape="rect" id="node21" href="hal__storage_8c.html#aadf9ff06990d0f0af2eea2e6f2b8082a" title="Store a generalConfig_t struct. " alt="" coords="783,933,897,960"/>
<area shape="rect" id="node22" href="hal__storage_8c.html#a046daab088cb37e318c07c2728ade9d3" title="Store a virtual button config struct. " alt="" coords="741,984,939,1011"/>
<area shape="rect" id="node26" href="keyboard_8c.html#a027266c03329f00b7bbfefd0e828463c" title="Parse a keycode to a key identifier. " alt="" coords="755,360,925,387"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a580d9f6a840975525358033a35f761d0_icgraph.png" border="0" usemap="#task__commands_8c_a580d9f6a840975525358033a35f761d0_icgraph" alt=""/></div>
<map name="task__commands_8c_a580d9f6a840975525358033a35f761d0_icgraph" id="task__commands_8c_a580d9f6a840975525358033a35f761d0_icgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="172,31,291,57"/>
<area shape="rect" id="node3" href="task__commands_8h.html#aedb896e40753227f80768e09d3748419" title="Init the command parser. " alt="" coords="351,5,483,32"/>
<area shape="rect" id="node5" href="task__commands_8h.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. " alt="" coords="339,56,496,83"/>
<area shape="rect" id="node4" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="544,5,623,32"/>
</map>
</div>

</div>
</div>
<a id="a2ad28759e53bb5082853d8d004767115"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ad28759e53bb5082853d8d004767115">&#9670;&nbsp;</a></span>doMouthpieceSettingsParsing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a> doMouthpieceSettingsParsing </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>cmdBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common_8h.html#a735049d5abb65dcaa7ba76917158a3b3">taskNoParameterConfig_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00146">146</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l01371">task_commands()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a2ad28759e53bb5082853d8d004767115_cgraph.png" border="0" usemap="#task__commands_8c_a2ad28759e53bb5082853d8d004767115_cgraph" alt=""/></div>
<map name="task__commands_8c_a2ad28759e53bb5082853d8d004767115_cgraph" id="task__commands_8c_a2ad28759e53bb5082853d8d004767115_cgraph">
<area shape="rect" id="node2" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="1293,143,1415,170"/>
<area shape="rect" id="node3" href="hal__adc_8c.html#a3217185bc86562dee8617ded3872022f" title="FUNCTIONAL TASK &#45; Trigger zero&#45;point calibration of mouthpiece. " alt="" coords="404,582,517,608"/>
<area shape="rect" id="node6" href="task__commands_8c.html#acea81ba8a182ae78feb2db6418fc1806" title="sendErrorBack" alt="" coords="248,502,356,528"/>
<area shape="rect" id="node4" href="hal__adc_8c.html#ae549c157d94729e8b06cb391f0f2c97b" title="Calibration function. " alt="" coords="845,640,960,667"/>
<area shape="rect" id="node5" href="hal__adc_8c.html#a5e0d74baf098e774b0e3aa0dab621987" title="Read out analog voltages, apply sensor gain and deadzone. " alt="" coords="1293,640,1415,667"/>
<area shape="rect" id="node7" href="hal__serial_8c.html#af78683f30da18cfc19c2c91006ec6155" title="Send serial bytes to USB&#45;Serial (USB&#45;CDC) " alt="" coords="1492,742,1655,768"/>
<area shape="rect" id="node8" href="task__commands_8c.html#ad59215648a26578c22baa7ceae099e0e" title="Print the current slot configurations (general settings + VBs) " alt="" coords="415,371,507,398"/>
<area shape="rect" id="node9" href="hal__storage_8c.html#aead99606f84645b2bb6ae000461bf819" title="Start a storage transaction. " alt="" coords="569,371,749,398"/>
<area shape="rect" id="node11" href="hal__storage_8c.html#a7e0a934f829b47e2445189dd95e962d6" title="Get the number of stored slots. " alt="" coords="805,396,1000,423"/>
<area shape="rect" id="node13" href="hal__storage_8c.html#a00b5db14e24d7ada8a42aa6b3f1a1cb7" title="Finish a storage transaction. " alt="" coords="565,422,752,448"/>
<area shape="rect" id="node14" href="hal__adc_8c.html#a4135bb73c2271b4a27db8d8d81884de7" title="Reload ADC config. " alt="" coords="587,691,730,718"/>
<area shape="rect" id="node19" href="hal__storage_8c.html#aed4beb2e1bd8cd78a201fbcb49958cba" title="Create a new default slot. " alt="" coords="576,219,741,246"/>
<area shape="rect" id="node22" href="hal__storage_8c.html#a2046481d14910cc6a5b0086a796f293b" title="Get the name of a slot number. " alt="" coords="800,346,1005,372"/>
<area shape="rect" id="node23" href="task__mouse_8c.html#a053f423dca1422f48f7ac0314cb94d8c" title="Reverse Parsing &#45; get AT command for mouse VB. " alt="" coords="591,472,726,499"/>
<area shape="rect" id="node24" href="task__kbd_8c.html#a43469aecbc3cd22a6ed1e6a73dc978bf" title="Reverse Parsing &#45; get AT command for keyboard VB. " alt="" coords="584,523,733,550"/>
<area shape="rect" id="node26" href="task__joystick_8c.html#a129da97dc396e856bc83c34c49f267a7" title="Reverse Parsing &#45; get AT command for joystick VB. " alt="" coords="588,574,729,600"/>
<area shape="rect" id="node27" href="config__switcher_8c.html#a68e6ddb2557b0bf3e2d84952feb0b5a5" title="Reverse Parsing &#45; get AT command for configswitcher VB. " alt="" coords="589,625,728,666"/>
<area shape="rect" id="node28" href="task__macros_8c.html#a6293da4c8fb7ee108ea2a61a3c7baa27" title="Reverse Parsing &#45; get AT command for macro VB. " alt="" coords="593,67,725,94"/>
<area shape="rect" id="node29" href="task__infrared_8c.html#a1e71679519e33c714fcdf3ce9023191e" title="Reverse Parsing &#45; get AT command for IR VB. " alt="" coords="589,118,728,144"/>
<area shape="rect" id="node10" href="hal__storage_8c.html#a606e5842dd354f1fb4a738ba95c6d5d1" title="internal function to init the filesystem if handle is invalid " alt="" coords="851,447,954,474"/>
<area shape="rect" id="node12" href="hal__storage_8c.html#a4b6566ef5b69c85d422df52435c95d36" title="Internal helper to check for a valid WL handle and the correct tid. " alt="" coords="1070,295,1199,322"/>
<area shape="rect" id="node15" href="hal__adc_8c.html#aee719704e643d27c1faab768cf4bc22e" title="HAL TASK &#45; Threshold task for ADC. " alt="" coords="829,691,977,718"/>
<area shape="rect" id="node16" href="hal__adc_8c.html#a8743abcde6f190545c429f072c16106d" title="Report raw values via serial interface. " alt="" coords="1290,742,1418,768"/>
<area shape="rect" id="node17" href="hal__adc_8c.html#a78419739020988cffc83ffcbc7103b05" title="Process pressure sensor (sip &amp; puff) " alt="" coords="1053,691,1216,718"/>
<area shape="rect" id="node18" href="hal__adc_8c.html#a3cddaa804609f2e34f3cbda1d43ff1b4" title="Trigger strong sip/puff + action according to input data. " alt="" coords="1264,691,1444,718"/>
<area shape="rect" id="node20" href="hal__storage_8c.html#aadf9ff06990d0f0af2eea2e6f2b8082a" title="Store a generalConfig_t struct. " alt="" coords="845,194,960,220"/>
<area shape="rect" id="node21" href="hal__storage_8c.html#a046daab088cb37e318c07c2728ade9d3" title="Store a virtual button config struct. " alt="" coords="803,244,1002,271"/>
<area shape="rect" id="node25" href="keyboard_8c.html#a027266c03329f00b7bbfefd0e828463c" title="Parse a keycode to a key identifier. " alt="" coords="817,523,988,550"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a2ad28759e53bb5082853d8d004767115_icgraph.png" border="0" usemap="#task__commands_8c_a2ad28759e53bb5082853d8d004767115_icgraph" alt=""/></div>
<map name="task__commands_8c_a2ad28759e53bb5082853d8d004767115_icgraph" id="task__commands_8c_a2ad28759e53bb5082853d8d004767115_icgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="248,31,367,57"/>
<area shape="rect" id="node3" href="task__commands_8h.html#aedb896e40753227f80768e09d3748419" title="Init the command parser. " alt="" coords="427,5,559,32"/>
<area shape="rect" id="node5" href="task__commands_8h.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. " alt="" coords="415,56,572,83"/>
<area shape="rect" id="node4" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="620,5,699,32"/>
</map>
</div>

</div>
</div>
<a id="a69b0c55558b32caa21407de8e2277be9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69b0c55558b32caa21407de8e2277be9">&#9670;&nbsp;</a></span>doStorageParsing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a> doStorageParsing </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>cmdBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="config__switcher_8h.html#aa6d38946df351bfaec1994fdb081e7db">taskConfigSwitcherConfig_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00384">384</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l01371">task_commands()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a69b0c55558b32caa21407de8e2277be9_cgraph.png" border="0" usemap="#task__commands_8c_a69b0c55558b32caa21407de8e2277be9_cgraph" alt=""/></div>
<map name="task__commands_8c_a69b0c55558b32caa21407de8e2277be9_cgraph" id="task__commands_8c_a69b0c55558b32caa21407de8e2277be9_cgraph">
<area shape="rect" id="node2" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="1059,5,1180,32"/>
<area shape="rect" id="node3" href="config__switcher_8c.html#a083adf41746c3380dcc6dbc099047f2e" title="FUNCTIONAL TASK &#45; Load another slot. " alt="" coords="212,183,351,209"/>
<area shape="rect" id="node4" href="config__switcher_8c.html#a4c2e410d8032c65c0700c6ca07429074" title="Request config update. " alt="" coords="232,132,331,159"/>
<area shape="rect" id="node15" href="config__switcher_8c.html#a27ed39a214ff60cc13af7058e8f4722e" title="Wait until current configuration is stable. " alt="" coords="200,233,363,260"/>
<area shape="rect" id="node16" href="hal__storage_8c.html#aead99606f84645b2bb6ae000461bf819" title="Start a storage transaction. " alt="" coords="191,284,371,311"/>
<area shape="rect" id="node18" href="hal__storage_8c.html#aae19bcf97360ccd7af4ddf906ff85141" title="Get the number of a slotname. " alt="" coords="179,436,384,463"/>
<area shape="rect" id="node20" href="hal__storage_8c.html#a7e0a934f829b47e2445189dd95e962d6" title="Get the number of stored slots. " alt="" coords="184,487,379,513"/>
<area shape="rect" id="node21" href="hal__storage_8c.html#aadf9ff06990d0f0af2eea2e6f2b8082a" title="Store a generalConfig_t struct. " alt="" coords="224,335,339,361"/>
<area shape="rect" id="node22" href="hal__storage_8c.html#a00b5db14e24d7ada8a42aa6b3f1a1cb7" title="Finish a storage transaction. " alt="" coords="188,537,375,564"/>
<area shape="rect" id="node23" href="hal__storage_8c.html#a046daab088cb37e318c07c2728ade9d3" title="Store a virtual button config struct. " alt="" coords="182,385,381,412"/>
<area shape="rect" id="node5" href="hal__adc_8c.html#a4135bb73c2271b4a27db8d8d81884de7" title="Reload ADC config. " alt="" coords="432,107,575,133"/>
<area shape="rect" id="node13" href="hal__ble_8h.html#accf307974a0046bce38582d0260bf841" title="Reset the BLE data. " alt="" coords="454,157,553,184"/>
<area shape="rect" id="node14" href="hal__serial_8c.html#ab2261f95747ee5806ebdec880d09ca89" title="Reset the serial HID report data. " alt="" coords="450,208,557,235"/>
<area shape="rect" id="node6" href="hal__adc_8c.html#aee719704e643d27c1faab768cf4bc22e" title="HAL TASK &#45; Threshold task for ADC. " alt="" coords="623,107,771,133"/>
<area shape="rect" id="node12" href="hal__adc_8c.html#ae549c157d94729e8b06cb391f0f2c97b" title="Calibration function. " alt="" coords="843,208,957,235"/>
<area shape="rect" id="node7" href="hal__adc_8c.html#a5e0d74baf098e774b0e3aa0dab621987" title="Read out analog voltages, apply sensor gain and deadzone. " alt="" coords="1059,157,1180,184"/>
<area shape="rect" id="node8" href="hal__adc_8c.html#a8743abcde6f190545c429f072c16106d" title="Report raw values via serial interface. " alt="" coords="1055,107,1183,133"/>
<area shape="rect" id="node10" href="hal__adc_8c.html#a78419739020988cffc83ffcbc7103b05" title="Process pressure sensor (sip &amp; puff) " alt="" coords="819,56,981,83"/>
<area shape="rect" id="node9" href="hal__serial_8c.html#af78683f30da18cfc19c2c91006ec6155" title="Send serial bytes to USB&#45;Serial (USB&#45;CDC) " alt="" coords="1257,107,1420,133"/>
<area shape="rect" id="node11" href="hal__adc_8c.html#a3cddaa804609f2e34f3cbda1d43ff1b4" title="Trigger strong sip/puff + action according to input data. " alt="" coords="1029,56,1209,83"/>
<area shape="rect" id="node17" href="hal__storage_8c.html#a606e5842dd354f1fb4a738ba95c6d5d1" title="internal function to init the filesystem if handle is invalid " alt="" coords="452,284,555,311"/>
<area shape="rect" id="node19" href="hal__storage_8c.html#a4b6566ef5b69c85d422df52435c95d36" title="Internal helper to check for a valid WL handle and the correct tid. " alt="" coords="439,411,568,437"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a69b0c55558b32caa21407de8e2277be9_icgraph.png" border="0" usemap="#task__commands_8c_a69b0c55558b32caa21407de8e2277be9_icgraph" alt=""/></div>
<map name="task__commands_8c_a69b0c55558b32caa21407de8e2277be9_icgraph" id="task__commands_8c_a69b0c55558b32caa21407de8e2277be9_icgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="179,31,297,57"/>
<area shape="rect" id="node3" href="task__commands_8h.html#aedb896e40753227f80768e09d3748419" title="Init the command parser. " alt="" coords="358,5,490,32"/>
<area shape="rect" id="node5" href="task__commands_8h.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. " alt="" coords="345,56,503,83"/>
<area shape="rect" id="node4" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="551,5,629,32"/>
</map>
</div>

</div>
</div>
<a id="ad59215648a26578c22baa7ceae099e0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad59215648a26578c22baa7ceae099e0e">&#9670;&nbsp;</a></span>printAllSlots()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printAllSlots </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>printconfig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the current slot configurations (general settings + VBs) </p>
<p>This method prints the current slot configurations to the serial interface. Used for "AT LA" and "AT LI" command, which lists all slots. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">printconfig</td><td>If set != 0, the config is printed. If 0 only slotnames are printed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000010">Todo:</a></b></dt><dd>Is this the same behaviour? Create a slot if AT LI is called... </dd></dl>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l01574">1574</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00742">doGeneralCmdParsing()</a>, and <a class="el" href="task__commands_8c_source.html#l00110">sendErrorBack()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_ad59215648a26578c22baa7ceae099e0e_cgraph.png" border="0" usemap="#task__commands_8c_ad59215648a26578c22baa7ceae099e0e_cgraph" alt=""/></div>
<map name="task__commands_8c_ad59215648a26578c22baa7ceae099e0e_cgraph" id="task__commands_8c_ad59215648a26578c22baa7ceae099e0e_cgraph">
<area shape="rect" id="node2" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="873,40,995,66"/>
<area shape="rect" id="node3" href="hal__storage_8c.html#aead99606f84645b2bb6ae000461bf819" title="Start a storage transaction. " alt="" coords="149,141,329,168"/>
<area shape="rect" id="node5" href="hal__storage_8c.html#a7e0a934f829b47e2445189dd95e962d6" title="Get the number of stored slots. " alt="" coords="385,344,580,370"/>
<area shape="rect" id="node7" href="hal__storage_8c.html#a00b5db14e24d7ada8a42aa6b3f1a1cb7" title="Finish a storage transaction. " alt="" coords="145,242,332,269"/>
<area shape="rect" id="node8" href="hal__adc_8c.html#a4135bb73c2271b4a27db8d8d81884de7" title="Reload ADC config. " alt="" coords="167,192,310,218"/>
<area shape="rect" id="node12" href="hal__serial_8c.html#af78683f30da18cfc19c2c91006ec6155" title="Send serial bytes to USB&#45;Serial (USB&#45;CDC) " alt="" coords="1072,192,1235,218"/>
<area shape="rect" id="node16" href="hal__storage_8c.html#aed4beb2e1bd8cd78a201fbcb49958cba" title="Create a new default slot. " alt="" coords="156,445,321,472"/>
<area shape="rect" id="node19" href="hal__storage_8c.html#a2046481d14910cc6a5b0086a796f293b" title="Get the name of a slot number. " alt="" coords="380,394,585,421"/>
<area shape="rect" id="node20" href="task__mouse_8c.html#a053f423dca1422f48f7ac0314cb94d8c" title="Reverse Parsing &#45; get AT command for mouse VB. " alt="" coords="171,496,306,522"/>
<area shape="rect" id="node21" href="task__kbd_8c.html#a43469aecbc3cd22a6ed1e6a73dc978bf" title="Reverse Parsing &#45; get AT command for keyboard VB. " alt="" coords="164,546,313,573"/>
<area shape="rect" id="node23" href="task__joystick_8c.html#a129da97dc396e856bc83c34c49f267a7" title="Reverse Parsing &#45; get AT command for joystick VB. " alt="" coords="168,597,309,624"/>
<area shape="rect" id="node24" href="config__switcher_8c.html#a68e6ddb2557b0bf3e2d84952feb0b5a5" title="Reverse Parsing &#45; get AT command for configswitcher VB. " alt="" coords="169,648,308,690"/>
<area shape="rect" id="node25" href="task__macros_8c.html#a6293da4c8fb7ee108ea2a61a3c7baa27" title="Reverse Parsing &#45; get AT command for macro VB. " alt="" coords="173,714,305,741"/>
<area shape="rect" id="node26" href="task__infrared_8c.html#a1e71679519e33c714fcdf3ce9023191e" title="Reverse Parsing &#45; get AT command for IR VB. " alt="" coords="169,765,308,792"/>
<area shape="rect" id="node4" href="hal__storage_8c.html#a606e5842dd354f1fb4a738ba95c6d5d1" title="internal function to init the filesystem if handle is invalid " alt="" coords="431,141,534,168"/>
<area shape="rect" id="node6" href="hal__storage_8c.html#a4b6566ef5b69c85d422df52435c95d36" title="Internal helper to check for a valid WL handle and the correct tid. " alt="" coords="650,445,779,472"/>
<area shape="rect" id="node9" href="hal__adc_8c.html#aee719704e643d27c1faab768cf4bc22e" title="HAL TASK &#45; Threshold task for ADC. " alt="" coords="409,192,557,218"/>
<area shape="rect" id="node15" href="hal__adc_8c.html#ae549c157d94729e8b06cb391f0f2c97b" title="Calibration function. " alt="" coords="657,242,772,269"/>
<area shape="rect" id="node10" href="hal__adc_8c.html#a5e0d74baf098e774b0e3aa0dab621987" title="Read out analog voltages, apply sensor gain and deadzone. " alt="" coords="873,192,995,218"/>
<area shape="rect" id="node11" href="hal__adc_8c.html#a8743abcde6f190545c429f072c16106d" title="Report raw values via serial interface. " alt="" coords="870,90,998,117"/>
<area shape="rect" id="node13" href="hal__adc_8c.html#a78419739020988cffc83ffcbc7103b05" title="Process pressure sensor (sip &amp; puff) " alt="" coords="633,141,796,168"/>
<area shape="rect" id="node14" href="hal__adc_8c.html#a3cddaa804609f2e34f3cbda1d43ff1b4" title="Trigger strong sip/puff + action according to input data. " alt="" coords="844,141,1024,168"/>
<area shape="rect" id="node17" href="hal__storage_8c.html#aadf9ff06990d0f0af2eea2e6f2b8082a" title="Store a generalConfig_t struct. " alt="" coords="425,445,540,472"/>
<area shape="rect" id="node18" href="hal__storage_8c.html#a046daab088cb37e318c07c2728ade9d3" title="Store a virtual button config struct. " alt="" coords="383,496,582,522"/>
<area shape="rect" id="node22" href="keyboard_8c.html#a027266c03329f00b7bbfefd0e828463c" title="Parse a keycode to a key identifier. " alt="" coords="397,597,568,624"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_ad59215648a26578c22baa7ceae099e0e_icgraph.png" border="0" usemap="#task__commands_8c_ad59215648a26578c22baa7ceae099e0e_icgraph" alt=""/></div>
<map name="task__commands_8c_ad59215648a26578c22baa7ceae099e0e_icgraph" id="task__commands_8c_ad59215648a26578c22baa7ceae099e0e_icgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7f6500be563a3dce7f0854fceed02fab" title="doGeneralCmdParsing" alt="" coords="322,5,475,32"/>
<area shape="rect" id="node7" href="task__commands_8c.html#acea81ba8a182ae78feb2db6418fc1806" title="sendErrorBack" alt="" coords="145,81,253,108"/>
<area shape="rect" id="node3" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="544,107,663,133"/>
<area shape="rect" id="node4" href="task__commands_8h.html#aedb896e40753227f80768e09d3748419" title="Init the command parser. " alt="" coords="723,81,855,108"/>
<area shape="rect" id="node6" href="task__commands_8h.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. " alt="" coords="711,132,868,159"/>
<area shape="rect" id="node5" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="916,81,995,108"/>
<area shape="rect" id="node8" href="task__commands_8c.html#a2ad28759e53bb5082853d8d004767115" title="doMouthpieceSettingsParsing" alt="" coords="301,56,496,83"/>
<area shape="rect" id="node9" href="task__commands_8c.html#afc7ebe31a124c2102f8b41577b6dc5b0" title="doJoystickParsing" alt="" coords="334,107,463,133"/>
<area shape="rect" id="node10" href="task__commands_8c.html#ac3c72c089d32dea93c45f4f9f8d1f244" title="doKeyboardParsing" alt="" coords="331,157,466,184"/>
<area shape="rect" id="node11" href="task__commands_8c.html#a580d9f6a840975525358033a35f761d0" title="doMouseParsing" alt="" coords="339,208,458,235"/>
</map>
</div>

</div>
</div>
<a id="acea81ba8a182ae78feb2db6418fc1806"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acea81ba8a182ae78feb2db6418fc1806">&#9670;&nbsp;</a></span>sendErrorBack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sendErrorBack </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>extrainfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>simple helper function which sends back to the USB host "?" and prints an error on the console with the given extra infos. </p>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00110">110</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00742">doGeneralCmdParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00489">doJoystickParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01042">doKeyboardParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01247">doMouseParsing()</a>, and <a class="el" href="task__commands_8c_source.html#l00146">doMouthpieceSettingsParsing()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_acea81ba8a182ae78feb2db6418fc1806_cgraph.png" border="0" usemap="#task__commands_8c_acea81ba8a182ae78feb2db6418fc1806_cgraph" alt=""/></div>
<map name="task__commands_8c_acea81ba8a182ae78feb2db6418fc1806_cgraph" id="task__commands_8c_acea81ba8a182ae78feb2db6418fc1806_cgraph">
<area shape="rect" id="node2" href="hal__serial_8c.html#af78683f30da18cfc19c2c91006ec6155" title="Send serial bytes to USB&#45;Serial (USB&#45;CDC) " alt="" coords="1228,109,1391,136"/>
<area shape="rect" id="node3" href="task__commands_8c.html#ad59215648a26578c22baa7ceae099e0e" title="Print the current slot configurations (general settings + VBs) " alt="" coords="161,363,253,389"/>
<area shape="rect" id="node4" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="1029,363,1151,389"/>
<area shape="rect" id="node5" href="hal__storage_8c.html#aead99606f84645b2bb6ae000461bf819" title="Start a storage transaction. " alt="" coords="305,363,485,389"/>
<area shape="rect" id="node7" href="hal__storage_8c.html#a7e0a934f829b47e2445189dd95e962d6" title="Get the number of stored slots. " alt="" coords="541,464,736,491"/>
<area shape="rect" id="node9" href="hal__storage_8c.html#a00b5db14e24d7ada8a42aa6b3f1a1cb7" title="Finish a storage transaction. " alt="" coords="301,565,488,592"/>
<area shape="rect" id="node10" href="hal__adc_8c.html#a4135bb73c2271b4a27db8d8d81884de7" title="Reload ADC config. " alt="" coords="323,261,466,288"/>
<area shape="rect" id="node17" href="hal__storage_8c.html#aed4beb2e1bd8cd78a201fbcb49958cba" title="Create a new default slot. " alt="" coords="312,515,477,541"/>
<area shape="rect" id="node20" href="hal__storage_8c.html#a2046481d14910cc6a5b0086a796f293b" title="Get the name of a slot number. " alt="" coords="536,413,741,440"/>
<area shape="rect" id="node21" href="task__mouse_8c.html#a053f423dca1422f48f7ac0314cb94d8c" title="Reverse Parsing &#45; get AT command for mouse VB. " alt="" coords="327,616,462,643"/>
<area shape="rect" id="node22" href="task__kbd_8c.html#a43469aecbc3cd22a6ed1e6a73dc978bf" title="Reverse Parsing &#45; get AT command for keyboard VB. " alt="" coords="320,667,469,693"/>
<area shape="rect" id="node24" href="task__joystick_8c.html#a129da97dc396e856bc83c34c49f267a7" title="Reverse Parsing &#45; get AT command for joystick VB. " alt="" coords="324,717,465,744"/>
<area shape="rect" id="node25" href="config__switcher_8c.html#a68e6ddb2557b0bf3e2d84952feb0b5a5" title="Reverse Parsing &#45; get AT command for configswitcher VB. " alt="" coords="325,43,464,85"/>
<area shape="rect" id="node26" href="task__macros_8c.html#a6293da4c8fb7ee108ea2a61a3c7baa27" title="Reverse Parsing &#45; get AT command for macro VB. " alt="" coords="329,109,461,136"/>
<area shape="rect" id="node27" href="task__infrared_8c.html#a1e71679519e33c714fcdf3ce9023191e" title="Reverse Parsing &#45; get AT command for IR VB. " alt="" coords="325,160,464,187"/>
<area shape="rect" id="node6" href="hal__storage_8c.html#a606e5842dd354f1fb4a738ba95c6d5d1" title="internal function to init the filesystem if handle is invalid " alt="" coords="587,363,690,389"/>
<area shape="rect" id="node8" href="hal__storage_8c.html#a4b6566ef5b69c85d422df52435c95d36" title="Internal helper to check for a valid WL handle and the correct tid. " alt="" coords="806,515,935,541"/>
<area shape="rect" id="node11" href="hal__adc_8c.html#aee719704e643d27c1faab768cf4bc22e" title="HAL TASK &#45; Threshold task for ADC. " alt="" coords="565,261,713,288"/>
<area shape="rect" id="node16" href="hal__adc_8c.html#ae549c157d94729e8b06cb391f0f2c97b" title="Calibration function. " alt="" coords="813,160,928,187"/>
<area shape="rect" id="node12" href="hal__adc_8c.html#a5e0d74baf098e774b0e3aa0dab621987" title="Read out analog voltages, apply sensor gain and deadzone. " alt="" coords="1029,211,1151,237"/>
<area shape="rect" id="node13" href="hal__adc_8c.html#a8743abcde6f190545c429f072c16106d" title="Report raw values via serial interface. " alt="" coords="1026,312,1154,339"/>
<area shape="rect" id="node14" href="hal__adc_8c.html#a78419739020988cffc83ffcbc7103b05" title="Process pressure sensor (sip &amp; puff) " alt="" coords="789,261,952,288"/>
<area shape="rect" id="node15" href="hal__adc_8c.html#a3cddaa804609f2e34f3cbda1d43ff1b4" title="Trigger strong sip/puff + action according to input data. " alt="" coords="1000,261,1180,288"/>
<area shape="rect" id="node18" href="hal__storage_8c.html#aadf9ff06990d0f0af2eea2e6f2b8082a" title="Store a generalConfig_t struct. " alt="" coords="581,565,696,592"/>
<area shape="rect" id="node19" href="hal__storage_8c.html#a046daab088cb37e318c07c2728ade9d3" title="Store a virtual button config struct. " alt="" coords="539,616,738,643"/>
<area shape="rect" id="node23" href="keyboard_8c.html#a027266c03329f00b7bbfefd0e828463c" title="Parse a keycode to a key identifier. " alt="" coords="553,667,724,693"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_acea81ba8a182ae78feb2db6418fc1806_icgraph.png" border="0" usemap="#task__commands_8c_acea81ba8a182ae78feb2db6418fc1806_icgraph" alt=""/></div>
<map name="task__commands_8c_acea81ba8a182ae78feb2db6418fc1806_icgraph" id="task__commands_8c_acea81ba8a182ae78feb2db6418fc1806_icgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7f6500be563a3dce7f0854fceed02fab" title="doGeneralCmdParsing" alt="" coords="182,5,335,32"/>
<area shape="rect" id="node7" href="task__commands_8c.html#afc7ebe31a124c2102f8b41577b6dc5b0" title="doJoystickParsing" alt="" coords="194,56,323,83"/>
<area shape="rect" id="node8" href="task__commands_8c.html#ac3c72c089d32dea93c45f4f9f8d1f244" title="doKeyboardParsing" alt="" coords="191,107,326,133"/>
<area shape="rect" id="node9" href="task__commands_8c.html#a580d9f6a840975525358033a35f761d0" title="doMouseParsing" alt="" coords="199,157,318,184"/>
<area shape="rect" id="node10" href="task__commands_8c.html#a2ad28759e53bb5082853d8d004767115" title="doMouthpieceSettingsParsing" alt="" coords="161,208,356,235"/>
<area shape="rect" id="node3" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="404,107,523,133"/>
<area shape="rect" id="node4" href="task__commands_8h.html#aedb896e40753227f80768e09d3748419" title="Init the command parser. " alt="" coords="583,81,715,108"/>
<area shape="rect" id="node6" href="task__commands_8h.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. " alt="" coords="571,132,728,159"/>
<area shape="rect" id="node5" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="776,81,855,108"/>
</map>
</div>

</div>
</div>
<a id="a7b36c39275d773aaedcb327ef4e1516f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b36c39275d773aaedcb327ef4e1516f">&#9670;&nbsp;</a></span>task_commands()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task_commands </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l01371">1371</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l01798">taskCommandsInit()</a>, and <a class="el" href="task__commands_8c_source.html#l01815">taskCommandsRestart()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a7b36c39275d773aaedcb327ef4e1516f_cgraph.png" border="0" usemap="#task__commands_8c_a7b36c39275d773aaedcb327ef4e1516f_cgraph" alt=""/></div>
<map name="task__commands_8c_a7b36c39275d773aaedcb327ef4e1516f_cgraph" id="task__commands_8c_a7b36c39275d773aaedcb327ef4e1516f_cgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#adf3aa67816eecac3e756189c9d61cbd2" title="checkqueues" alt="" coords="220,183,319,209"/>
<area shape="rect" id="node3" href="hal__serial_8c.html#a0bb04b089362a7c58d189b0fc61bef96" title="Read parsed AT commands from USB&#45;Serial (USB&#45;CDC) " alt="" coords="179,233,360,260"/>
<area shape="rect" id="node5" href="hal__serial_8c.html#af78683f30da18cfc19c2c91006ec6155" title="Send serial bytes to USB&#45;Serial (USB&#45;CDC) " alt="" coords="951,1500,1113,1527"/>
<area shape="rect" id="node6" href="task__commands_8c.html#a580d9f6a840975525358033a35f761d0" title="doMouseParsing" alt="" coords="210,284,329,311"/>
<area shape="rect" id="node16" href="task__commands_8c.html#a69b0c55558b32caa21407de8e2277be9" title="doStorageParsing" alt="" coords="207,461,332,488"/>
<area shape="rect" id="node18" href="config__switcher_8c.html#a4c2e410d8032c65c0700c6ca07429074" title="Request config update. " alt="" coords="468,613,567,640"/>
<area shape="rect" id="node25" href="task__commands_8c.html#ac3c72c089d32dea93c45f4f9f8d1f244" title="doKeyboardParsing" alt="" coords="202,943,337,969"/>
<area shape="rect" id="node33" href="task__commands_8c.html#a7f6500be563a3dce7f0854fceed02fab" title="doGeneralCmdParsing" alt="" coords="193,1399,346,1425"/>
<area shape="rect" id="node37" href="task__commands_8c.html#a937cdeb2f02b0c5d9a0f94a0f69e9328" title="doInfraredParsing" alt="" coords="455,1880,579,1907"/>
<area shape="rect" id="node44" href="task__commands_8c.html#afc7ebe31a124c2102f8b41577b6dc5b0" title="doJoystickParsing" alt="" coords="205,1449,334,1476"/>
<area shape="rect" id="node46" href="task__commands_8c.html#a2ad28759e53bb5082853d8d004767115" title="doMouthpieceSettingsParsing" alt="" coords="172,1171,367,1197"/>
<area shape="rect" id="node48" href="task__commands_8c.html#acdd5ac250a84f0f62d23f174b7366432" title="doMacroParsing" alt="" coords="211,1931,327,1957"/>
<area shape="rect" id="node50" href="config__switcher_8c.html#a20db6aabb98f5c9c7cea48e950bada5b" title="Update one virtual button. " alt="" coords="211,1981,328,2008"/>
<area shape="rect" id="node4" href="config__switcher_8c.html#a069ecb4ce2a93159f930ac60751d9f3f" title="Print current task stack high water marks. " alt="" coords="430,5,605,32"/>
<area shape="rect" id="node7" href="task__mouse_8c.html#aa8f5c0436e569589e735c419fc3d0ed8" title="FUNCTIONAL TASK &#45; Trigger mouse action. " alt="" coords="471,56,564,83"/>
<area shape="rect" id="node8" href="task__mouse_8c.html#ab5cfaaac2cd4ec6fc79546f847db96de" title="Get the current mouse wheel step size. " alt="" coords="714,107,841,133"/>
<area shape="rect" id="node10" href="task__commands_8c.html#acea81ba8a182ae78feb2db6418fc1806" title="sendErrorBack" alt="" coords="463,1171,571,1197"/>
<area shape="rect" id="node15" href="task__mouse_8c.html#ac5aaa616044b7bef9f75347719181dbe" title="Set current mouse wheel step size. " alt="" coords="714,157,841,184"/>
<area shape="rect" id="node9" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="971,689,1093,716"/>
<area shape="rect" id="node11" href="task__commands_8c.html#ad59215648a26578c22baa7ceae099e0e" title="Print the current slot configurations (general settings + VBs) " alt="" coords="731,1424,823,1451"/>
<area shape="rect" id="node12" href="hal__storage_8c.html#aead99606f84645b2bb6ae000461bf819" title="Start a storage transaction. " alt="" coords="942,1613,1122,1640"/>
<area shape="rect" id="node13" href="hal__storage_8c.html#a7e0a934f829b47e2445189dd95e962d6" title="Get the number of stored slots. " alt="" coords="935,892,1129,919"/>
<area shape="rect" id="node14" href="hal__storage_8c.html#a00b5db14e24d7ada8a42aa6b3f1a1cb7" title="Finish a storage transaction. " alt="" coords="939,1703,1125,1729"/>
<area shape="rect" id="node17" href="config__switcher_8c.html#a083adf41746c3380dcc6dbc099047f2e" title="FUNCTIONAL TASK &#45; Load another slot. " alt="" coords="448,309,587,336"/>
<area shape="rect" id="node21" href="config__switcher_8c.html#a27ed39a214ff60cc13af7058e8f4722e" title="Wait until current configuration is stable. " alt="" coords="436,360,599,387"/>
<area shape="rect" id="node22" href="hal__storage_8c.html#aae19bcf97360ccd7af4ddf906ff85141" title="Get the number of a slotname. " alt="" coords="415,816,620,843"/>
<area shape="rect" id="node23" href="hal__storage_8c.html#aadf9ff06990d0f0af2eea2e6f2b8082a" title="Store a generalConfig_t struct. " alt="" coords="460,411,575,437"/>
<area shape="rect" id="node24" href="hal__storage_8c.html#a046daab088cb37e318c07c2728ade9d3" title="Store a virtual button config struct. " alt="" coords="418,461,617,488"/>
<area shape="rect" id="node19" href="hal__ble_8h.html#accf307974a0046bce38582d0260bf841" title="Reset the BLE data. " alt="" coords="728,1019,827,1045"/>
<area shape="rect" id="node20" href="hal__serial_8c.html#ab2261f95747ee5806ebdec880d09ca89" title="Reset the serial HID report data. " alt="" coords="724,1120,831,1147"/>
<area shape="rect" id="node26" href="task__kbd_8c.html#a8ff4618047a049178bfb1d60abfefb5d" title="FUNCTIONAL TASK &#45; trigger keyboard actions. " alt="" coords="464,715,571,741"/>
<area shape="rect" id="node27" href="keyboard_8c.html#add849eefda31316c7d22d45f49e261e2" title="Parse a decoded code point to a keycode, step 2. " alt="" coords="447,765,588,792"/>
<area shape="rect" id="node28" href="keyboard_8c.html#a6b593fa493aea40be410640981b1c181" title="Parse a keycode for deadkey input, step 3. " alt="" coords="445,867,590,893"/>
<area shape="rect" id="node29" href="keyboard_8c.html#a464318439ffe82e71e063a5c9582aa69" title="Mask the keycode to get the HID keycode, step 4. " alt="" coords="459,917,576,944"/>
<area shape="rect" id="node30" href="keyboard_8c.html#acdbf297ed74d4534f035e0732c2f1081" title="Mask the keycode to get the modifiers, step 5. " alt="" coords="446,968,589,995"/>
<area shape="rect" id="node31" href="keyboard_8c.html#a74d92b54cde636cae76575e8b0cad378" title="Parse a key identifier to a keycode. " alt="" coords="432,1019,603,1045"/>
<area shape="rect" id="node32" href="keyboard_8c.html#aa5712a49152638257c16d39ea798a43e" title="Is this keycode a modifier? " alt="" coords="447,1069,588,1096"/>
<area shape="rect" id="node34" href="hal__storage_8c.html#aa545d76c7dcaafc129a03dfd9706ca7b" title="Store a string into NVS (global, no slot assignment) " alt="" coords="429,1525,606,1552"/>
<area shape="rect" id="node35" href="hal__storage_8c.html#a18ba4afaa3fc6e4c16180a79c330ad41" title="Get free memory (IR &amp; slot storage) " alt="" coords="452,1576,583,1603"/>
<area shape="rect" id="node36" href="hal__storage_8c.html#a8abf9a5b8727dc8d7cbe76ba0e2dcb6b" title="Delete one or all slots. " alt="" coords="445,1627,590,1653"/>
<area shape="rect" id="node38" href="task__infrared_8c.html#a2950159444d03958630c6731bd1600c9" title="FUNCTIONAL TASK &#45; Infrared command sending. " alt="" coords="729,2032,826,2059"/>
<area shape="rect" id="node39" href="hal__storage_8c.html#a8347d2c8df82d17bc9af1d007bfd11ae" title="Delete one or all IR commands. " alt="" coords="695,1779,859,1805"/>
<area shape="rect" id="node40" href="hal__storage_8c.html#a531bc39bc2808762298d14b79ac453cd" title="Get the number of an IR command. " alt="" coords="668,1829,887,1856"/>
<area shape="rect" id="node41" href="task__infrared_8c.html#a3b5b7c90c92398748f28c75b55edccda" title="Trigger an IR command recording. " alt="" coords="723,1677,831,1704"/>
<area shape="rect" id="node42" href="hal__storage_8c.html#a1495c793604980c76b334f6a6d553c3c" title="Get the number of stored IR commands. " alt="" coords="670,1931,885,1957"/>
<area shape="rect" id="node43" href="hal__storage_8c.html#a53912e9159b29e5fc974a127dbf0982f" title="Get the name of an infrared command stored at the given slot number. " alt="" coords="668,1981,887,2008"/>
<area shape="rect" id="node45" href="task__joystick_8c.html#a3040132b9cef8e73060fcd9c17dc116b" title="FUNCTIONAL TASK &#45; Trigger joystick action. " alt="" coords="468,1779,567,1805"/>
<area shape="rect" id="node47" href="hal__adc_8c.html#a3217185bc86562dee8617ded3872022f" title="FUNCTIONAL TASK &#45; Trigger zero&#45;point calibration of mouthpiece. " alt="" coords="461,1221,574,1248"/>
<area shape="rect" id="node49" href="task__macros_8c.html#a7acda2dcac23ebfffade8a15b40d219f" title="FUNCTIONAL TASK &#45; Macro execution. " alt="" coords="472,1931,563,1957"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a7b36c39275d773aaedcb327ef4e1516f_icgraph.png" border="0" usemap="#task__commands_8c_a7b36c39275d773aaedcb327ef4e1516f_icgraph" alt=""/></div>
<map name="task__commands_8c_a7b36c39275d773aaedcb327ef4e1516f_icgraph" id="task__commands_8c_a7b36c39275d773aaedcb327ef4e1516f_icgraph">
<area shape="rect" id="node2" href="task__commands_8h.html#aedb896e40753227f80768e09d3748419" title="Init the command parser. " alt="" coords="185,5,317,32"/>
<area shape="rect" id="node4" href="task__commands_8h.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. " alt="" coords="172,56,329,83"/>
<area shape="rect" id="node3" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="377,5,456,32"/>
</map>
</div>

</div>
</div>
<a id="aedb896e40753227f80768e09d3748419"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedb896e40753227f80768e09d3748419">&#9670;&nbsp;</a></span>taskCommandsInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t taskCommandsInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Init the command parser. </p>
<p>This method starts the command parser task, which handles incoming UART bytes &amp; responses if necessary. If necessary, this task deletes itself &amp; starts a CIM task (it MUST be the other way as well to restart the AT command parser) </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="task__commands_8c.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. ">taskCommandsRestart</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>ESP_OK on success, ESP_FAIL otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l01798">1798</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="flipmouse__fabi__esp32__kbdmouse__main_8c_source.html#l00091">app_main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_aedb896e40753227f80768e09d3748419_cgraph.png" border="0" usemap="#task__commands_8c_aedb896e40753227f80768e09d3748419_cgraph" alt=""/></div>
<map name="task__commands_8c_aedb896e40753227f80768e09d3748419_cgraph" id="task__commands_8c_aedb896e40753227f80768e09d3748419_cgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="185,1348,304,1375"/>
<area shape="rect" id="node3" href="task__commands_8c.html#adf3aa67816eecac3e756189c9d61cbd2" title="checkqueues" alt="" coords="400,233,499,260"/>
<area shape="rect" id="node4" href="hal__serial_8c.html#a0bb04b089362a7c58d189b0fc61bef96" title="Read parsed AT commands from USB&#45;Serial (USB&#45;CDC) " alt="" coords="359,284,540,311"/>
<area shape="rect" id="node6" href="hal__serial_8c.html#af78683f30da18cfc19c2c91006ec6155" title="Send serial bytes to USB&#45;Serial (USB&#45;CDC) " alt="" coords="1131,1880,1293,1907"/>
<area shape="rect" id="node7" href="task__commands_8c.html#a580d9f6a840975525358033a35f761d0" title="doMouseParsing" alt="" coords="390,613,509,640"/>
<area shape="rect" id="node17" href="task__commands_8c.html#a69b0c55558b32caa21407de8e2277be9" title="doStorageParsing" alt="" coords="387,335,512,361"/>
<area shape="rect" id="node19" href="config__switcher_8c.html#a4c2e410d8032c65c0700c6ca07429074" title="Request config update. " alt="" coords="648,563,747,589"/>
<area shape="rect" id="node26" href="task__commands_8c.html#ac3c72c089d32dea93c45f4f9f8d1f244" title="doKeyboardParsing" alt="" coords="382,892,517,919"/>
<area shape="rect" id="node34" href="task__commands_8c.html#a7f6500be563a3dce7f0854fceed02fab" title="doGeneralCmdParsing" alt="" coords="373,1348,526,1375"/>
<area shape="rect" id="node38" href="task__commands_8c.html#a937cdeb2f02b0c5d9a0f94a0f69e9328" title="doInfraredParsing" alt="" coords="635,1677,759,1704"/>
<area shape="rect" id="node45" href="task__commands_8c.html#afc7ebe31a124c2102f8b41577b6dc5b0" title="doJoystickParsing" alt="" coords="385,1525,514,1552"/>
<area shape="rect" id="node47" href="task__commands_8c.html#a2ad28759e53bb5082853d8d004767115" title="doMouthpieceSettingsParsing" alt="" coords="352,1475,547,1501"/>
<area shape="rect" id="node49" href="task__commands_8c.html#acdd5ac250a84f0f62d23f174b7366432" title="doMacroParsing" alt="" coords="391,2133,507,2160"/>
<area shape="rect" id="node50" href="config__switcher_8c.html#a20db6aabb98f5c9c7cea48e950bada5b" title="Update one virtual button. " alt="" coords="391,2184,508,2211"/>
<area shape="rect" id="node5" href="config__switcher_8c.html#a069ecb4ce2a93159f930ac60751d9f3f" title="Print current task stack high water marks. " alt="" coords="610,5,785,32"/>
<area shape="rect" id="node8" href="task__mouse_8c.html#aa8f5c0436e569589e735c419fc3d0ed8" title="FUNCTIONAL TASK &#45; Trigger mouse action. " alt="" coords="651,613,744,640"/>
<area shape="rect" id="node9" href="task__mouse_8c.html#ab5cfaaac2cd4ec6fc79546f847db96de" title="Get the current mouse wheel step size. " alt="" coords="894,360,1021,387"/>
<area shape="rect" id="node11" href="task__commands_8c.html#acea81ba8a182ae78feb2db6418fc1806" title="sendErrorBack" alt="" coords="643,1475,751,1501"/>
<area shape="rect" id="node16" href="task__mouse_8c.html#ac5aaa616044b7bef9f75347719181dbe" title="Set current mouse wheel step size. " alt="" coords="894,512,1021,539"/>
<area shape="rect" id="node10" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="1151,943,1273,969"/>
<area shape="rect" id="node12" href="task__commands_8c.html#ad59215648a26578c22baa7ceae099e0e" title="Print the current slot configurations (general settings + VBs) " alt="" coords="911,1373,1003,1400"/>
<area shape="rect" id="node13" href="hal__storage_8c.html#aead99606f84645b2bb6ae000461bf819" title="Start a storage transaction. " alt="" coords="1122,1525,1302,1552"/>
<area shape="rect" id="node14" href="hal__storage_8c.html#a7e0a934f829b47e2445189dd95e962d6" title="Get the number of stored slots. " alt="" coords="1115,576,1309,603"/>
<area shape="rect" id="node15" href="hal__storage_8c.html#a00b5db14e24d7ada8a42aa6b3f1a1cb7" title="Finish a storage transaction. " alt="" coords="1119,1399,1305,1425"/>
<area shape="rect" id="node18" href="config__switcher_8c.html#a083adf41746c3380dcc6dbc099047f2e" title="FUNCTIONAL TASK &#45; Load another slot. " alt="" coords="628,56,767,83"/>
<area shape="rect" id="node22" href="config__switcher_8c.html#a27ed39a214ff60cc13af7058e8f4722e" title="Wait until current configuration is stable. " alt="" coords="616,107,779,133"/>
<area shape="rect" id="node23" href="hal__storage_8c.html#aae19bcf97360ccd7af4ddf906ff85141" title="Get the number of a slotname. " alt="" coords="595,968,800,995"/>
<area shape="rect" id="node24" href="hal__storage_8c.html#aadf9ff06990d0f0af2eea2e6f2b8082a" title="Store a generalConfig_t struct. " alt="" coords="640,157,755,184"/>
<area shape="rect" id="node25" href="hal__storage_8c.html#a046daab088cb37e318c07c2728ade9d3" title="Store a virtual button config struct. " alt="" coords="598,208,797,235"/>
<area shape="rect" id="node20" href="hal__ble_8h.html#accf307974a0046bce38582d0260bf841" title="Reset the BLE data. " alt="" coords="908,588,1007,615"/>
<area shape="rect" id="node21" href="hal__serial_8c.html#ab2261f95747ee5806ebdec880d09ca89" title="Reset the serial HID report data. " alt="" coords="904,943,1011,969"/>
<area shape="rect" id="node27" href="task__kbd_8c.html#a8ff4618047a049178bfb1d60abfefb5d" title="FUNCTIONAL TASK &#45; trigger keyboard actions. " alt="" coords="644,917,751,944"/>
<area shape="rect" id="node28" href="keyboard_8c.html#add849eefda31316c7d22d45f49e261e2" title="Parse a decoded code point to a keycode, step 2. " alt="" coords="627,1019,768,1045"/>
<area shape="rect" id="node29" href="keyboard_8c.html#a6b593fa493aea40be410640981b1c181" title="Parse a keycode for deadkey input, step 3. " alt="" coords="625,1069,770,1096"/>
<area shape="rect" id="node30" href="keyboard_8c.html#a464318439ffe82e71e063a5c9582aa69" title="Mask the keycode to get the HID keycode, step 4. " alt="" coords="639,715,756,741"/>
<area shape="rect" id="node31" href="keyboard_8c.html#acdbf297ed74d4534f035e0732c2f1081" title="Mask the keycode to get the modifiers, step 5. " alt="" coords="626,765,769,792"/>
<area shape="rect" id="node32" href="keyboard_8c.html#a74d92b54cde636cae76575e8b0cad378" title="Parse a key identifier to a keycode. " alt="" coords="612,816,783,843"/>
<area shape="rect" id="node33" href="keyboard_8c.html#aa5712a49152638257c16d39ea798a43e" title="Is this keycode a modifier? " alt="" coords="627,867,768,893"/>
<area shape="rect" id="node35" href="hal__storage_8c.html#aa545d76c7dcaafc129a03dfd9706ca7b" title="Store a string into NVS (global, no slot assignment) " alt="" coords="609,1424,786,1451"/>
<area shape="rect" id="node36" href="hal__storage_8c.html#a18ba4afaa3fc6e4c16180a79c330ad41" title="Get free memory (IR &amp; slot storage) " alt="" coords="632,1525,763,1552"/>
<area shape="rect" id="node37" href="hal__storage_8c.html#a8abf9a5b8727dc8d7cbe76ba0e2dcb6b" title="Delete one or all slots. " alt="" coords="625,1272,770,1299"/>
<area shape="rect" id="node39" href="task__infrared_8c.html#a2950159444d03958630c6731bd1600c9" title="FUNCTIONAL TASK &#45; Infrared command sending. " alt="" coords="909,1576,1006,1603"/>
<area shape="rect" id="node40" href="hal__storage_8c.html#a8347d2c8df82d17bc9af1d007bfd11ae" title="Delete one or all IR commands. " alt="" coords="875,1829,1039,1856"/>
<area shape="rect" id="node41" href="hal__storage_8c.html#a531bc39bc2808762298d14b79ac453cd" title="Get the number of an IR command. " alt="" coords="848,1880,1067,1907"/>
<area shape="rect" id="node42" href="task__infrared_8c.html#a3b5b7c90c92398748f28c75b55edccda" title="Trigger an IR command recording. " alt="" coords="903,1728,1011,1755"/>
<area shape="rect" id="node43" href="hal__storage_8c.html#a1495c793604980c76b334f6a6d553c3c" title="Get the number of stored IR commands. " alt="" coords="850,1931,1065,1957"/>
<area shape="rect" id="node44" href="hal__storage_8c.html#a53912e9159b29e5fc974a127dbf0982f" title="Get the name of an infrared command stored at the given slot number. " alt="" coords="848,1677,1067,1704"/>
<area shape="rect" id="node46" href="task__joystick_8c.html#a3040132b9cef8e73060fcd9c17dc116b" title="FUNCTIONAL TASK &#45; Trigger joystick action. " alt="" coords="648,2032,747,2059"/>
<area shape="rect" id="node48" href="hal__adc_8c.html#a3217185bc86562dee8617ded3872022f" title="FUNCTIONAL TASK &#45; Trigger zero&#45;point calibration of mouthpiece. " alt="" coords="641,1981,754,2008"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_aedb896e40753227f80768e09d3748419_icgraph.png" border="0" usemap="#task__commands_8c_aedb896e40753227f80768e09d3748419_icgraph" alt=""/></div>
<map name="task__commands_8c_aedb896e40753227f80768e09d3748419_icgraph" id="task__commands_8c_aedb896e40753227f80768e09d3748419_icgraph">
<area shape="rect" id="node2" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="185,5,264,32"/>
</map>
</div>

</div>
</div>
<a id="a26091155b4d85093239033d689f363d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26091155b4d85093239033d689f363d0">&#9670;&nbsp;</a></span>taskCommandsRestart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t taskCommandsRestart </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restart the command parser task. </p>
<p>Restart the command parser task</p>
<p>This method is used, if the CIM parser detects AT commands and stops itself, providing the AT command set again. </p><dl class="section return"><dt>Returns</dt><dd>ESP_OK on success, ESP_FAIL otherwise (cannot start task, task already running) </dd></dl>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l01815">1815</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a26091155b4d85093239033d689f363d0_cgraph.png" border="0" usemap="#task__commands_8c_a26091155b4d85093239033d689f363d0_cgraph" alt=""/></div>
<map name="task__commands_8c_a26091155b4d85093239033d689f363d0_cgraph" id="task__commands_8c_a26091155b4d85093239033d689f363d0_cgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="211,1348,329,1375"/>
<area shape="rect" id="node3" href="task__commands_8c.html#adf3aa67816eecac3e756189c9d61cbd2" title="checkqueues" alt="" coords="425,233,524,260"/>
<area shape="rect" id="node4" href="hal__serial_8c.html#a0bb04b089362a7c58d189b0fc61bef96" title="Read parsed AT commands from USB&#45;Serial (USB&#45;CDC) " alt="" coords="384,284,565,311"/>
<area shape="rect" id="node6" href="hal__serial_8c.html#af78683f30da18cfc19c2c91006ec6155" title="Send serial bytes to USB&#45;Serial (USB&#45;CDC) " alt="" coords="1156,1880,1319,1907"/>
<area shape="rect" id="node7" href="task__commands_8c.html#a580d9f6a840975525358033a35f761d0" title="doMouseParsing" alt="" coords="415,613,534,640"/>
<area shape="rect" id="node17" href="task__commands_8c.html#a69b0c55558b32caa21407de8e2277be9" title="doStorageParsing" alt="" coords="412,335,537,361"/>
<area shape="rect" id="node19" href="config__switcher_8c.html#a4c2e410d8032c65c0700c6ca07429074" title="Request config update. " alt="" coords="673,563,772,589"/>
<area shape="rect" id="node26" href="task__commands_8c.html#ac3c72c089d32dea93c45f4f9f8d1f244" title="doKeyboardParsing" alt="" coords="407,892,542,919"/>
<area shape="rect" id="node34" href="task__commands_8c.html#a7f6500be563a3dce7f0854fceed02fab" title="doGeneralCmdParsing" alt="" coords="398,1348,551,1375"/>
<area shape="rect" id="node38" href="task__commands_8c.html#a937cdeb2f02b0c5d9a0f94a0f69e9328" title="doInfraredParsing" alt="" coords="661,1677,785,1704"/>
<area shape="rect" id="node45" href="task__commands_8c.html#afc7ebe31a124c2102f8b41577b6dc5b0" title="doJoystickParsing" alt="" coords="410,1525,539,1552"/>
<area shape="rect" id="node47" href="task__commands_8c.html#a2ad28759e53bb5082853d8d004767115" title="doMouthpieceSettingsParsing" alt="" coords="377,1475,572,1501"/>
<area shape="rect" id="node49" href="task__commands_8c.html#acdd5ac250a84f0f62d23f174b7366432" title="doMacroParsing" alt="" coords="417,2133,533,2160"/>
<area shape="rect" id="node50" href="config__switcher_8c.html#a20db6aabb98f5c9c7cea48e950bada5b" title="Update one virtual button. " alt="" coords="416,2184,533,2211"/>
<area shape="rect" id="node5" href="config__switcher_8c.html#a069ecb4ce2a93159f930ac60751d9f3f" title="Print current task stack high water marks. " alt="" coords="635,5,810,32"/>
<area shape="rect" id="node8" href="task__mouse_8c.html#aa8f5c0436e569589e735c419fc3d0ed8" title="FUNCTIONAL TASK &#45; Trigger mouse action. " alt="" coords="676,613,769,640"/>
<area shape="rect" id="node9" href="task__mouse_8c.html#ab5cfaaac2cd4ec6fc79546f847db96de" title="Get the current mouse wheel step size. " alt="" coords="919,360,1046,387"/>
<area shape="rect" id="node11" href="task__commands_8c.html#acea81ba8a182ae78feb2db6418fc1806" title="sendErrorBack" alt="" coords="669,1475,777,1501"/>
<area shape="rect" id="node16" href="task__mouse_8c.html#ac5aaa616044b7bef9f75347719181dbe" title="Set current mouse wheel step size. " alt="" coords="919,512,1046,539"/>
<area shape="rect" id="node10" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="1177,943,1298,969"/>
<area shape="rect" id="node12" href="task__commands_8c.html#ad59215648a26578c22baa7ceae099e0e" title="Print the current slot configurations (general settings + VBs) " alt="" coords="937,1373,1029,1400"/>
<area shape="rect" id="node13" href="hal__storage_8c.html#aead99606f84645b2bb6ae000461bf819" title="Start a storage transaction. " alt="" coords="1147,1525,1327,1552"/>
<area shape="rect" id="node14" href="hal__storage_8c.html#a7e0a934f829b47e2445189dd95e962d6" title="Get the number of stored slots. " alt="" coords="1140,576,1335,603"/>
<area shape="rect" id="node15" href="hal__storage_8c.html#a00b5db14e24d7ada8a42aa6b3f1a1cb7" title="Finish a storage transaction. " alt="" coords="1144,1399,1331,1425"/>
<area shape="rect" id="node18" href="config__switcher_8c.html#a083adf41746c3380dcc6dbc099047f2e" title="FUNCTIONAL TASK &#45; Load another slot. " alt="" coords="653,56,792,83"/>
<area shape="rect" id="node22" href="config__switcher_8c.html#a27ed39a214ff60cc13af7058e8f4722e" title="Wait until current configuration is stable. " alt="" coords="641,107,804,133"/>
<area shape="rect" id="node23" href="hal__storage_8c.html#aae19bcf97360ccd7af4ddf906ff85141" title="Get the number of a slotname. " alt="" coords="620,968,825,995"/>
<area shape="rect" id="node24" href="hal__storage_8c.html#aadf9ff06990d0f0af2eea2e6f2b8082a" title="Store a generalConfig_t struct. " alt="" coords="665,157,780,184"/>
<area shape="rect" id="node25" href="hal__storage_8c.html#a046daab088cb37e318c07c2728ade9d3" title="Store a virtual button config struct. " alt="" coords="623,208,822,235"/>
<area shape="rect" id="node20" href="hal__ble_8h.html#accf307974a0046bce38582d0260bf841" title="Reset the BLE data. " alt="" coords="933,588,1032,615"/>
<area shape="rect" id="node21" href="hal__serial_8c.html#ab2261f95747ee5806ebdec880d09ca89" title="Reset the serial HID report data. " alt="" coords="929,943,1036,969"/>
<area shape="rect" id="node27" href="task__kbd_8c.html#a8ff4618047a049178bfb1d60abfefb5d" title="FUNCTIONAL TASK &#45; trigger keyboard actions. " alt="" coords="669,917,776,944"/>
<area shape="rect" id="node28" href="keyboard_8c.html#add849eefda31316c7d22d45f49e261e2" title="Parse a decoded code point to a keycode, step 2. " alt="" coords="652,1019,793,1045"/>
<area shape="rect" id="node29" href="keyboard_8c.html#a6b593fa493aea40be410640981b1c181" title="Parse a keycode for deadkey input, step 3. " alt="" coords="650,1069,795,1096"/>
<area shape="rect" id="node30" href="keyboard_8c.html#a464318439ffe82e71e063a5c9582aa69" title="Mask the keycode to get the HID keycode, step 4. " alt="" coords="664,715,781,741"/>
<area shape="rect" id="node31" href="keyboard_8c.html#acdbf297ed74d4534f035e0732c2f1081" title="Mask the keycode to get the modifiers, step 5. " alt="" coords="651,765,794,792"/>
<area shape="rect" id="node32" href="keyboard_8c.html#a74d92b54cde636cae76575e8b0cad378" title="Parse a key identifier to a keycode. " alt="" coords="637,816,808,843"/>
<area shape="rect" id="node33" href="keyboard_8c.html#aa5712a49152638257c16d39ea798a43e" title="Is this keycode a modifier? " alt="" coords="652,867,793,893"/>
<area shape="rect" id="node35" href="hal__storage_8c.html#aa545d76c7dcaafc129a03dfd9706ca7b" title="Store a string into NVS (global, no slot assignment) " alt="" coords="634,1424,811,1451"/>
<area shape="rect" id="node36" href="hal__storage_8c.html#a18ba4afaa3fc6e4c16180a79c330ad41" title="Get free memory (IR &amp; slot storage) " alt="" coords="657,1525,788,1552"/>
<area shape="rect" id="node37" href="hal__storage_8c.html#a8abf9a5b8727dc8d7cbe76ba0e2dcb6b" title="Delete one or all slots. " alt="" coords="650,1272,795,1299"/>
<area shape="rect" id="node39" href="task__infrared_8c.html#a2950159444d03958630c6731bd1600c9" title="FUNCTIONAL TASK &#45; Infrared command sending. " alt="" coords="934,1576,1031,1603"/>
<area shape="rect" id="node40" href="hal__storage_8c.html#a8347d2c8df82d17bc9af1d007bfd11ae" title="Delete one or all IR commands. " alt="" coords="901,1829,1065,1856"/>
<area shape="rect" id="node41" href="hal__storage_8c.html#a531bc39bc2808762298d14b79ac453cd" title="Get the number of an IR command. " alt="" coords="873,1880,1092,1907"/>
<area shape="rect" id="node42" href="task__infrared_8c.html#a3b5b7c90c92398748f28c75b55edccda" title="Trigger an IR command recording. " alt="" coords="929,1728,1037,1755"/>
<area shape="rect" id="node43" href="hal__storage_8c.html#a1495c793604980c76b334f6a6d553c3c" title="Get the number of stored IR commands. " alt="" coords="875,1931,1090,1957"/>
<area shape="rect" id="node44" href="hal__storage_8c.html#a53912e9159b29e5fc974a127dbf0982f" title="Get the name of an infrared command stored at the given slot number. " alt="" coords="873,1677,1092,1704"/>
<area shape="rect" id="node46" href="task__joystick_8c.html#a3040132b9cef8e73060fcd9c17dc116b" title="FUNCTIONAL TASK &#45; Trigger joystick action. " alt="" coords="673,2032,772,2059"/>
<area shape="rect" id="node48" href="hal__adc_8c.html#a3217185bc86562dee8617ded3872022f" title="FUNCTIONAL TASK &#45; Trigger zero&#45;point calibration of mouthpiece. " alt="" coords="666,1981,779,2008"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a1441452b2b1c337c41096e3d0bf2fdd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1441452b2b1c337c41096e3d0bf2fdd6">&#9670;&nbsp;</a></span>currentCommandTask</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TaskHandle_t currentCommandTask = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00060">60</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l01798">taskCommandsInit()</a>, and <a class="el" href="task__commands_8c_source.html#l01815">taskCommandsRestart()</a>.</p>

</div>
</div>
<a id="a598fa24559f0c3a64692abf7764545d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a598fa24559f0c3a64692abf7764545d9">&#9670;&nbsp;</a></span>requestUpdate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t requestUpdate = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If any parsing part requests a general config update, this variable is set to 1. task_commands will reset it to 0 after the update </p>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00078">78</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00742">doGeneralCmdParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00582">doInfraredParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00146">doMouthpieceSettingsParsing()</a>, and <a class="el" href="task__commands_8c_source.html#l01371">task_commands()</a>.</p>

</div>
</div>
<a id="aa2d17c65b4d8f49e32ffb6987bb33ac5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2d17c65b4d8f49e32ffb6987bb33ac5">&#9670;&nbsp;</a></span>requestVBParameter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* requestVBParameter = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00071">71</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00582">doInfraredParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00489">doJoystickParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01042">doKeyboardParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01221">doMacroParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01247">doMouseParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00146">doMouthpieceSettingsParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00384">doStorageParsing()</a>, and <a class="el" href="task__commands_8c_source.html#l01371">task_commands()</a>.</p>

</div>
</div>
<a id="a72a3465e14641646907f99794f88e6dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72a3465e14641646907f99794f88e6dc">&#9670;&nbsp;</a></span>requestVBParameterSize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t requestVBParameterSize = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00068">68</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00582">doInfraredParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00489">doJoystickParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01042">doKeyboardParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01221">doMacroParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01247">doMouseParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00146">doMouthpieceSettingsParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00384">doStorageParsing()</a>, and <a class="el" href="task__commands_8c_source.html#l01371">task_commands()</a>.</p>

</div>
</div>
<a id="a9c73c48b3f99599795437a9a22ed98d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c73c48b3f99599795437a9a22ed98d5">&#9670;&nbsp;</a></span>requestVBTask</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* requestVBTask) (void *) = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000008">Todo:</a></b></dt><dd>documentate this stuff </dd></dl>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00065">65</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00582">doInfraredParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00489">doJoystickParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01042">doKeyboardParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01221">doMacroParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01247">doMouseParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00146">doMouthpieceSettingsParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00384">doStorageParsing()</a>, and <a class="el" href="task__commands_8c_source.html#l01371">task_commands()</a>.</p>

</div>
</div>
<a id="af2fcbc3f27a33e58b92d0b0a979a3b33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2fcbc3f27a33e58b92d0b0a979a3b33">&#9670;&nbsp;</a></span>requestVBType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="common_8h.html#ac27b6f4710923c6689834e86aea228ac">command_type_t</a> requestVBType = <a class="el" href="common_8h.html#ac27b6f4710923c6689834e86aea228aca43adee93f5ac14f200b55ebb92de2cd4">T_NOFUNCTION</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00074">74</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00582">doInfraredParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00489">doJoystickParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01042">doKeyboardParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01221">doMacroParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01247">doMouseParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00146">doMouthpieceSettingsParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00384">doStorageParsing()</a>, and <a class="el" href="task__commands_8c_source.html#l01371">task_commands()</a>.</p>

</div>
</div>
<a id="a92f6cea4b2f3b9af0abce6f8fcf3da97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92f6cea4b2f3b9af0abce6f8fcf3da97">&#9670;&nbsp;</a></span>requestVBUpdate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t requestVBUpdate = <a class="el" href="common_8h.html#a784ceb4b2d4c4fb77baa99646c6e5035">VB_SINGLESHOT</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Currently used virtual button number. </p>
<p>If this variable is set to a value != VB_SINGLESHOT any following AT command will be set for this virtual button. task_commands will recognize this and triggers the VB update after command parsing. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="common_8h.html#a784ceb4b2d4c4fb77baa99646c6e5035">VB_SINGLESHOT</a> </dd>
<dd>
<a class="el" href="task__commands_8c.html#a72a3465e14641646907f99794f88e6dc">requestVBParameterSize</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00089">89</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00742">doGeneralCmdParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00582">doInfraredParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00489">doJoystickParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01042">doKeyboardParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01247">doMouseParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00146">doMouthpieceSettingsParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00384">doStorageParsing()</a>, and <a class="el" href="task__commands_8c_source.html#l01371">task_commands()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
