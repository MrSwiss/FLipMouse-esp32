<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLipMouse/FABI ESP32 firmware: /home/beni/sync/Projects/FH/FLipMouse-esp32/main/function_tasks/task_commands.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FLipMouse/FABI ESP32 firmware
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_5c982d53a68cdbcd421152b4020263a9.html">main</a></li><li class="navelem"><a class="el" href="dir_dd44d79ba9a472f66a6851d54403189f.html">function_tasks</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">task_commands.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="task__commands_8h_source.html">task_commands.h</a>&quot;</code><br />
</div>
<p><a href="task__commands_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7ce0df38eb467e59f209470c8f5ac4e6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a7ce0df38eb467e59f209470c8f5ac4e6">LOG_TAG</a>&#160;&#160;&#160;&quot;cmdparser&quot;</td></tr>
<tr class="memdesc:a7ce0df38eb467e59f209470c8f5ac4e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">CONTINOUS TASK - Main command parser for serial AT commands.  <a href="#a7ce0df38eb467e59f209470c8f5ac4e6">More...</a><br /></td></tr>
<tr class="separator:a7ce0df38eb467e59f209470c8f5ac4e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4d8475ff8191eec64ec75fa4241f187"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#ad4d8475ff8191eec64ec75fa4241f187">CMD</a>(x)&#160;&#160;&#160;(memcmp(cmdBuffer,x,5) == 0)</td></tr>
<tr class="separator:ad4d8475ff8191eec64ec75fa4241f187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3857f5c8268c235bcaf6beb2cf5edfee"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a3857f5c8268c235bcaf6beb2cf5edfee">CMD4</a>(x)&#160;&#160;&#160;(memcmp(cmdBuffer,x,4) == 0)</td></tr>
<tr class="separator:a3857f5c8268c235bcaf6beb2cf5edfee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a9d6dfce3cb5edf05065b6dc2b175776d"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="task__commands_8c.html#a7860b6904b2ba2dd906d189ada5f1e17">pstate</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a></td></tr>
<tr class="memdesc:a9d6dfce3cb5edf05065b6dc2b175776d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current state of parser.  <a href="#a9d6dfce3cb5edf05065b6dc2b175776d">More...</a><br /></td></tr>
<tr class="separator:a9d6dfce3cb5edf05065b6dc2b175776d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a7860b6904b2ba2dd906d189ada5f1e17"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a7860b6904b2ba2dd906d189ada5f1e17">pstate</a> { <a class="el" href="task__commands_8c.html#a7860b6904b2ba2dd906d189ada5f1e17a8bb584db01e5ebc3a3d4d84157cebc3d">NOACTION</a>, 
<a class="el" href="task__commands_8c.html#a7860b6904b2ba2dd906d189ada5f1e17a8430aa1deedfa38beb0b766f5f2ab411">WAITFORNEWATCMD</a>, 
<a class="el" href="task__commands_8c.html#a7860b6904b2ba2dd906d189ada5f1e17a88d52d035be8cb7e2c0c9c3acc76dc6d">UNKNOWNCMD</a>, 
<a class="el" href="task__commands_8c.html#a7860b6904b2ba2dd906d189ada5f1e17a50c64ae796b6cf92c249f1a90f98a992">TRIGGERTASK</a>
 }<tr class="memdesc:a7860b6904b2ba2dd906d189ada5f1e17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current state of parser.  <a href="task__commands_8c.html#a7860b6904b2ba2dd906d189ada5f1e17">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a7860b6904b2ba2dd906d189ada5f1e17"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acea81ba8a182ae78feb2db6418fc1806"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#acea81ba8a182ae78feb2db6418fc1806">sendErrorBack</a> (const char *extrainfo)</td></tr>
<tr class="separator:acea81ba8a182ae78feb2db6418fc1806"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad59215648a26578c22baa7ceae099e0e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#ad59215648a26578c22baa7ceae099e0e">printAllSlots</a> (uint8_t printconfig)</td></tr>
<tr class="memdesc:ad59215648a26578c22baa7ceae099e0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the current slot configurations (general settings + VBs)  <a href="#ad59215648a26578c22baa7ceae099e0e">More...</a><br /></td></tr>
<tr class="separator:ad59215648a26578c22baa7ceae099e0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf3aa67816eecac3e756189c9d61cbd2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#adf3aa67816eecac3e756189c9d61cbd2">checkqueues</a> (void)</td></tr>
<tr class="separator:adf3aa67816eecac3e756189c9d61cbd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ad28759e53bb5082853d8d004767115"><td class="memItemLeft" align="right" valign="top"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a2ad28759e53bb5082853d8d004767115">doMouthpieceSettingsParsing</a> (uint8_t *cmdBuffer, <a class="el" href="common_8h.html#a735049d5abb65dcaa7ba76917158a3b3">taskNoParameterConfig_t</a> *instance)</td></tr>
<tr class="separator:a2ad28759e53bb5082853d8d004767115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69b0c55558b32caa21407de8e2277be9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a69b0c55558b32caa21407de8e2277be9">doStorageParsing</a> (uint8_t *cmdBuffer, <a class="el" href="config__switcher_8h.html#aa6d38946df351bfaec1994fdb081e7db">taskConfigSwitcherConfig_t</a> *instance)</td></tr>
<tr class="separator:a69b0c55558b32caa21407de8e2277be9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a937cdeb2f02b0c5d9a0f94a0f69e9328"><td class="memItemLeft" align="right" valign="top"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a937cdeb2f02b0c5d9a0f94a0f69e9328">doInfraredParsing</a> (uint8_t *cmdBuffer, <a class="el" href="task__infrared_8h.html#ae79eca562c950fdefa5b55c65e44c1f4">taskInfraredConfig_t</a> *instance)</td></tr>
<tr class="separator:a937cdeb2f02b0c5d9a0f94a0f69e9328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f6500be563a3dce7f0854fceed02fab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a7f6500be563a3dce7f0854fceed02fab">doGeneralCmdParsing</a> (uint8_t *cmdBuffer)</td></tr>
<tr class="separator:a7f6500be563a3dce7f0854fceed02fab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3c72c089d32dea93c45f4f9f8d1f244"><td class="memItemLeft" align="right" valign="top"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#ac3c72c089d32dea93c45f4f9f8d1f244">doKeyboardParsing</a> (uint8_t *cmdBuffer, <a class="el" href="task__kbd_8h.html#a1ea00a7b13dc2b804f53e6f79cb89f2c">taskKeyboardConfig_t</a> *kbdinstance, int length)</td></tr>
<tr class="separator:ac3c72c089d32dea93c45f4f9f8d1f244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdd5ac250a84f0f62d23f174b7366432"><td class="memItemLeft" align="right" valign="top"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#acdd5ac250a84f0f62d23f174b7366432">doMacroParsing</a> (uint8_t *cmdBuffer, <a class="el" href="task__macros_8h.html#a53ebc7d166c7d671841c937b0820ddfb">taskMacrosConfig_t</a> *macroinstance, int length)</td></tr>
<tr class="separator:acdd5ac250a84f0f62d23f174b7366432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a580d9f6a840975525358033a35f761d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a580d9f6a840975525358033a35f761d0">doMouseParsing</a> (uint8_t *cmdBuffer, <a class="el" href="task__mouse_8h.html#aa8af5afb3b111ccabb1e207ae4cabcaa">taskMouseConfig_t</a> *mouseinstance)</td></tr>
<tr class="separator:a580d9f6a840975525358033a35f761d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b36c39275d773aaedcb327ef4e1516f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f">task_commands</a> (void *params)</td></tr>
<tr class="separator:a7b36c39275d773aaedcb327ef4e1516f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedb896e40753227f80768e09d3748419"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#aedb896e40753227f80768e09d3748419">taskCommandsInit</a> (void)</td></tr>
<tr class="memdesc:aedb896e40753227f80768e09d3748419"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init the command parser.  <a href="#aedb896e40753227f80768e09d3748419">More...</a><br /></td></tr>
<tr class="separator:aedb896e40753227f80768e09d3748419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26091155b4d85093239033d689f363d0"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a26091155b4d85093239033d689f363d0">taskCommandsRestart</a> (void)</td></tr>
<tr class="memdesc:a26091155b4d85093239033d689f363d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restart the command parser task.  <a href="#a26091155b4d85093239033d689f363d0">More...</a><br /></td></tr>
<tr class="separator:a26091155b4d85093239033d689f363d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1441452b2b1c337c41096e3d0bf2fdd6"><td class="memItemLeft" align="right" valign="top">static TaskHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a1441452b2b1c337c41096e3d0bf2fdd6">currentCommandTask</a> = NULL</td></tr>
<tr class="separator:a1441452b2b1c337c41096e3d0bf2fdd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c73c48b3f99599795437a9a22ed98d5"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a9c73c48b3f99599795437a9a22ed98d5">requestVBTask</a> )(void *) = NULL</td></tr>
<tr class="separator:a9c73c48b3f99599795437a9a22ed98d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72a3465e14641646907f99794f88e6dc"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a72a3465e14641646907f99794f88e6dc">requestVBParameterSize</a> = 0</td></tr>
<tr class="separator:a72a3465e14641646907f99794f88e6dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2d17c65b4d8f49e32ffb6987bb33ac5"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#aa2d17c65b4d8f49e32ffb6987bb33ac5">requestVBParameter</a> = NULL</td></tr>
<tr class="separator:aa2d17c65b4d8f49e32ffb6987bb33ac5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2fcbc3f27a33e58b92d0b0a979a3b33"><td class="memItemLeft" align="right" valign="top"><a class="el" href="common_8h.html#ac27b6f4710923c6689834e86aea228ac">command_type_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#af2fcbc3f27a33e58b92d0b0a979a3b33">requestVBType</a> = <a class="el" href="common_8h.html#ac27b6f4710923c6689834e86aea228aca43adee93f5ac14f200b55ebb92de2cd4">T_NOFUNCTION</a></td></tr>
<tr class="separator:af2fcbc3f27a33e58b92d0b0a979a3b33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a598fa24559f0c3a64692abf7764545d9"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a598fa24559f0c3a64692abf7764545d9">requestUpdate</a> = 0</td></tr>
<tr class="separator:a598fa24559f0c3a64692abf7764545d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92f6cea4b2f3b9af0abce6f8fcf3da97"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__commands_8c.html#a92f6cea4b2f3b9af0abce6f8fcf3da97">requestVBUpdate</a> = <a class="el" href="common_8h.html#a784ceb4b2d4c4fb77baa99646c6e5035">VB_SINGLESHOT</a></td></tr>
<tr class="memdesc:a92f6cea4b2f3b9af0abce6f8fcf3da97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Currently used virtual button number.  <a href="#a92f6cea4b2f3b9af0abce6f8fcf3da97">More...</a><br /></td></tr>
<tr class="separator:a92f6cea4b2f3b9af0abce6f8fcf3da97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad4d8475ff8191eec64ec75fa4241f187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4d8475ff8191eec64ec75fa4241f187">&#9670;&nbsp;</a></span>CMD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;(memcmp(cmdBuffer,x,5) == 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Simple macro to short the command comparison (full AT cmd with 5 chars) </p>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00053">53</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00613">doGeneralCmdParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00478">doInfraredParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00852">doKeyboardParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01031">doMacroParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00154">doMouthpieceSettingsParsing()</a>, and <a class="el" href="task__commands_8c_source.html#l00392">doStorageParsing()</a>.</p>

</div>
</div>
<a id="a3857f5c8268c235bcaf6beb2cf5edfee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3857f5c8268c235bcaf6beb2cf5edfee">&#9670;&nbsp;</a></span>CMD4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD4</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;(memcmp(cmdBuffer,x,4) == 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Simple macro to short the command comparison (part of AT cmd with 4 chars) </p>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00056">56</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00613">doGeneralCmdParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00852">doKeyboardParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01057">doMouseParsing()</a>, and <a class="el" href="task__commands_8c_source.html#l00154">doMouthpieceSettingsParsing()</a>.</p>

</div>
</div>
<a id="a7ce0df38eb467e59f209470c8f5ac4e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ce0df38eb467e59f209470c8f5ac4e6">&#9670;&nbsp;</a></span>LOG_TAG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_TAG&#160;&#160;&#160;&quot;cmdparser&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CONTINOUS TASK - Main command parser for serial AT commands. </p>
<p>This module is used to parse any incoming serial data from hal_serial for valid AT commands. If a valid command is detected, the corresponding action is triggered (mostly by invoking a FUNCTIONAL task in singleshot mode).</p>
<p>By issueing an <b>AT BM</b> command, the next issued AT command will be assigned to a virtual button. This is done via setting the requestVBUpdate variable to the VB number. One time only commands (without AT BM) are defined as VB==VB_SINGLESHOT</p>
<p>In addition, this parser also takes care of switching to CIM mode if requested. The other way from CIM to AT mode is done by the task_cim module by triggering taskCommandsRestart.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="common_8h.html#a784ceb4b2d4c4fb77baa99646c6e5035">VB_SINGLESHOT</a> </dd>
<dd>
task_cim </dd>
<dd>
hal_serial </dd>
<dd>
atcmd_api</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000008">Todo:</a></b></dt><dd>CIM switching</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Currently we are using unicode_to_keycode, because terminal programs use it this way. For supporting unicode keystreams (UTF-8), the method parse_for_keycode needs to be usedTag for ESP_LOG logging </dd></dl>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00050">50</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00613">doGeneralCmdParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00478">doInfraredParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00852">doKeyboardParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01031">doMacroParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01057">doMouseParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00154">doMouthpieceSettingsParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00392">doStorageParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01369">printAllSlots()</a>, <a class="el" href="task__commands_8c_source.html#l00108">sendErrorBack()</a>, <a class="el" href="task__commands_8c_source.html#l01181">task_commands()</a>, and <a class="el" href="task__commands_8c_source.html#l01523">taskCommandsInit()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a9d6dfce3cb5edf05065b6dc2b175776d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d6dfce3cb5edf05065b6dc2b175776d">&#9670;&nbsp;</a></span>parserstate_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="task__commands_8c.html#a7860b6904b2ba2dd906d189ada5f1e17">pstate</a>  <a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current state of parser. </p>
<p>Following states are possible for the parser here:<br />
</p><ul>
<li><b>NOACTION</b> An AT command was found, but no further action is taken afterwards. E.g, AT AX sets the accleration directly to the config and requests a general update via setting requestUpdate to 1.</li>
<li><b>WAITFORNEWATCMD</b> In this case, AT BM was sent to set a new command for a virtual button. The next AT command will NOT be triggering anything. It will be used as new cmd. An error will be raised, if the following command cannot be used for VBs (e.g., AT AX).</li>
<li><b>UNKNOWNCMD</b> No command was found (is returned for each subparser if no command is found)</li>
<li><b>TRIGGERTASK</b> If this is returned by sub-parsers, the main task needs to trigger/process this command, either by assigning it to a VB or triggering it as singleshot task. </li>
</ul>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a7860b6904b2ba2dd906d189ada5f1e17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7860b6904b2ba2dd906d189ada5f1e17">&#9670;&nbsp;</a></span>pstate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="task__commands_8c.html#a7860b6904b2ba2dd906d189ada5f1e17">pstate</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current state of parser. </p>
<p>Following states are possible for the parser here:<br />
</p><ul>
<li><b>NOACTION</b> An AT command was found, but no further action is taken afterwards. E.g, AT AX sets the accleration directly to the config and requests a general update via setting requestUpdate to 1.</li>
<li><b>WAITFORNEWATCMD</b> In this case, AT BM was sent to set a new command for a virtual button. The next AT command will NOT be triggering anything. It will be used as new cmd. An error will be raised, if the following command cannot be used for VBs (e.g., AT AX).</li>
<li><b>UNKNOWNCMD</b> No command was found (is returned for each subparser if no command is found)</li>
<li><b>TRIGGERTASK</b> If this is returned by sub-parsers, the main task needs to trigger/process this command, either by assigning it to a VB or triggering it as singleshot task. </li>
</ul>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a7860b6904b2ba2dd906d189ada5f1e17a8bb584db01e5ebc3a3d4d84157cebc3d"></a>NOACTION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7860b6904b2ba2dd906d189ada5f1e17a8430aa1deedfa38beb0b766f5f2ab411"></a>WAITFORNEWATCMD&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7860b6904b2ba2dd906d189ada5f1e17a88d52d035be8cb7e2c0c9c3acc76dc6d"></a>UNKNOWNCMD&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7860b6904b2ba2dd906d189ada5f1e17a50c64ae796b6cf92c249f1a90f98a992"></a>TRIGGERTASK&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00104">104</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="adf3aa67816eecac3e756189c9d61cbd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf3aa67816eecac3e756189c9d61cbd2">&#9670;&nbsp;</a></span>checkqueues()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int checkqueues </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>just check all queues if they are initialized </p><dl class="section return"><dt>Returns</dt><dd>0 on uninitialized queues, 1 if all are initialized </dd></dl>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00125">125</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l01181">task_commands()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_adf3aa67816eecac3e756189c9d61cbd2_icgraph.png" border="0" usemap="#task__commands_8c_adf3aa67816eecac3e756189c9d61cbd2_icgraph" alt=""/></div>
<map name="task__commands_8c_adf3aa67816eecac3e756189c9d61cbd2_icgraph" id="task__commands_8c_adf3aa67816eecac3e756189c9d61cbd2_icgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="152,31,271,57"/>
<area shape="rect" id="node3" href="task__commands_8h.html#aedb896e40753227f80768e09d3748419" title="Init the command parser. " alt="" coords="331,5,463,32"/>
<area shape="rect" id="node5" href="task__commands_8h.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. " alt="" coords="319,56,476,83"/>
<area shape="rect" id="node4" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="524,5,603,32"/>
</map>
</div>

</div>
</div>
<a id="a7f6500be563a3dce7f0854fceed02fab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f6500be563a3dce7f0854fceed02fab">&#9670;&nbsp;</a></span>doGeneralCmdParsing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a> doGeneralCmdParsing </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>cmdBuffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000010">Todo:</a></b></dt><dd>hier den AT AI,AP,AR commands hinzufügen. Achtung auf requestVBUpdate: wenn gesetzt, wieder zurücksetzen &amp; entsprechend die Zeit speichern. </dd></dl>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00613">613</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l01181">task_commands()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a7f6500be563a3dce7f0854fceed02fab_cgraph.png" border="0" usemap="#task__commands_8c_a7f6500be563a3dce7f0854fceed02fab_cgraph" alt=""/></div>
<map name="task__commands_8c_a7f6500be563a3dce7f0854fceed02fab_cgraph" id="task__commands_8c_a7f6500be563a3dce7f0854fceed02fab_cgraph">
<area shape="rect" id="node2" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="719,5,841,32"/>
<area shape="rect" id="node3" href="task__commands_8c.html#acea81ba8a182ae78feb2db6418fc1806" title="sendErrorBack" alt="" coords="255,275,363,301"/>
<area shape="rect" id="node4" href="hal__serial_8c.html#a8f987ba001c2a39c959a551a94b5df43" title="Send serial bytes to USB&#45;Serial (USB&#45;CDC) " alt="" coords="699,56,861,83"/>
<area shape="rect" id="node6" href="task__commands_8c.html#ad59215648a26578c22baa7ceae099e0e" title="Print the current slot configurations (general settings + VBs) " alt="" coords="499,275,591,301"/>
<area shape="rect" id="node7" href="hal__storage_8c.html#ac67aaf5a3af4140bff3d7c134b9d771f" title="Start a storage transaction. " alt="" coords="690,427,870,453"/>
<area shape="rect" id="node17" href="hal__storage_8c.html#a00b5db14e24d7ada8a42aa6b3f1a1cb7" title="Finish a storage transaction. " alt="" coords="687,477,873,504"/>
<area shape="rect" id="node18" href="hal__ble_8c.html#accf307974a0046bce38582d0260bf841" title="halBLEReset" alt="" coords="260,637,359,664"/>
<area shape="rect" id="node23" href="hal__serial_8c.html#ab2261f95747ee5806ebdec880d09ca89" title="Reset the serial HID report data. " alt="" coords="491,124,598,151"/>
<area shape="rect" id="node24" href="hal__storage_8c.html#a5fe9e276fd05e50e4ab9d554ef6f58ca" title="Delete one or all slots. " alt="" coords="237,509,382,536"/>
<area shape="rect" id="node25" href="hal__storage_8c.html#aae19bcf97360ccd7af4ddf906ff85141" title="Get the number of a slotname. " alt="" coords="207,572,412,599"/>
<area shape="rect" id="node5" href="hal__serial_8c.html#a132de0978f07044a393cc1f3b5276ced" title="halSerialSwitchTXChannel" alt="" coords="931,56,1108,83"/>
<area shape="rect" id="node9" href="hal__storage_8c.html#a7e0a934f829b47e2445189dd95e962d6" title="Get the number of stored slots. " alt="" coords="683,325,877,352"/>
<area shape="rect" id="node11" href="hal__storage_8c.html#a2046481d14910cc6a5b0086a796f293b" title="Get the name of a slot number. " alt="" coords="677,376,883,403"/>
<area shape="rect" id="node12" href="task__mouse_8c.html#a053f423dca1422f48f7ac0314cb94d8c" title="Reverse Parsing &#45; get AT command for mouse VB. " alt="" coords="713,275,847,301"/>
<area shape="rect" id="node13" href="task__kbd_8c.html#a43469aecbc3cd22a6ed1e6a73dc978bf" title="Reverse Parsing &#45; get AT command for keyboard VB. " alt="" coords="705,107,855,133"/>
<area shape="rect" id="node15" href="config__switcher_8c.html#a68e6ddb2557b0bf3e2d84952feb0b5a5" title="Reverse Parsing &#45; get AT command for configswitcher VB. " alt="" coords="711,158,849,199"/>
<area shape="rect" id="node16" href="task__infrared_8c.html#a1e71679519e33c714fcdf3ce9023191e" title="Reverse Parsing &#45; get AT command for IR VB. " alt="" coords="711,224,849,251"/>
<area shape="rect" id="node8" href="hal__storage_8c.html#a606e5842dd354f1fb4a738ba95c6d5d1" title="internal function to init the filesystem if handle is invalid " alt="" coords="968,427,1071,453"/>
<area shape="rect" id="node10" href="hal__storage_8c.html#a4b6566ef5b69c85d422df52435c95d36" title="Internal helper to check for a valid WL handle and the correct tid. " alt="" coords="955,376,1084,403"/>
<area shape="rect" id="node14" href="keyboard_8c.html#a027266c03329f00b7bbfefd0e828463c" title="Parse a keycode to a key identifier. " alt="" coords="934,107,1105,133"/>
<area shape="rect" id="node19" href="esp__hidd__prf__api_8c.html#a0e953976c5ad30d8508ac11bc61cb6b2" title="esp_hidd_send_mouse\l_value" alt="" coords="467,630,622,671"/>
<area shape="rect" id="node22" href="esp__hidd__prf__api_8c.html#a694ff6418e79f3372b3feba7483e3222" title="esp_hidd_send_keyboard\l_value" alt="" coords="460,695,629,737"/>
<area shape="rect" id="node20" href="hid__dev_8c.html#a8ae7c69dfd4b740534df123a303a8832" title="hid_dev_send_report" alt="" coords="709,669,851,696"/>
<area shape="rect" id="node21" href="hid__dev_8c.html#a1a247bc038a3368cea0bde2303aa8301" title="hid_dev_rpt_by_id" alt="" coords="956,669,1083,696"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a7f6500be563a3dce7f0854fceed02fab_icgraph.png" border="0" usemap="#task__commands_8c_a7f6500be563a3dce7f0854fceed02fab_icgraph" alt=""/></div>
<map name="task__commands_8c_a7f6500be563a3dce7f0854fceed02fab_icgraph" id="task__commands_8c_a7f6500be563a3dce7f0854fceed02fab_icgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="207,31,325,57"/>
<area shape="rect" id="node3" href="task__commands_8h.html#aedb896e40753227f80768e09d3748419" title="Init the command parser. " alt="" coords="386,5,518,32"/>
<area shape="rect" id="node5" href="task__commands_8h.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. " alt="" coords="373,56,531,83"/>
<area shape="rect" id="node4" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="579,5,657,32"/>
</map>
</div>

</div>
</div>
<a id="a937cdeb2f02b0c5d9a0f94a0f69e9328"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a937cdeb2f02b0c5d9a0f94a0f69e9328">&#9670;&nbsp;</a></span>doInfraredParsing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a> doInfraredParsing </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>cmdBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="task__infrared_8h.html#ae79eca562c950fdefa5b55c65e44c1f4">taskInfraredConfig_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00478">478</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l01181">task_commands()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a937cdeb2f02b0c5d9a0f94a0f69e9328_cgraph.png" border="0" usemap="#task__commands_8c_a937cdeb2f02b0c5d9a0f94a0f69e9328_cgraph" alt=""/></div>
<map name="task__commands_8c_a937cdeb2f02b0c5d9a0f94a0f69e9328_cgraph" id="task__commands_8c_a937cdeb2f02b0c5d9a0f94a0f69e9328_cgraph">
<area shape="rect" id="node2" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="226,5,347,32"/>
<area shape="rect" id="node3" href="task__infrared_8c.html#a2950159444d03958630c6731bd1600c9" title="FUNCTIONAL TASK &#45; Infrared command sending. " alt="" coords="238,259,335,285"/>
<area shape="rect" id="node4" href="hal__storage_8c.html#ac67aaf5a3af4140bff3d7c134b9d771f" title="Start a storage transaction. " alt="" coords="463,208,643,235"/>
<area shape="rect" id="node8" href="hal__storage_8c.html#a00b5db14e24d7ada8a42aa6b3f1a1cb7" title="Finish a storage transaction. " alt="" coords="460,309,647,336"/>
<area shape="rect" id="node9" href="hal__storage_8c.html#a8347d2c8df82d17bc9af1d007bfd11ae" title="Delete one or all IR commands. " alt="" coords="736,411,900,437"/>
<area shape="rect" id="node10" href="hal__storage_8c.html#a531bc39bc2808762298d14b79ac453cd" title="Get the number of an IR command. " alt="" coords="444,56,663,83"/>
<area shape="rect" id="node11" href="task__infrared_8c.html#a6f7bfd75e03bde856f3e5fc9a2391fe3" title="Trigger an IR command recording. " alt="" coords="233,309,341,336"/>
<area shape="rect" id="node14" href="hal__storage_8c.html#a1495c793604980c76b334f6a6d553c3c" title="Get the number of stored IR commands. " alt="" coords="711,107,925,133"/>
<area shape="rect" id="node15" href="hal__storage_8c.html#a53912e9159b29e5fc974a127dbf0982f" title="Get the name of an infrared command stored at the given slot number. " alt="" coords="177,157,396,184"/>
<area shape="rect" id="node16" href="hal__serial_8c.html#a8f987ba001c2a39c959a551a94b5df43" title="Send serial bytes to USB&#45;Serial (USB&#45;CDC) " alt="" coords="205,461,368,488"/>
<area shape="rect" id="node6" href="hal__storage_8c.html#aa728fac6a17066ecb910c19338ae5288" title="Load an IR command by name. " alt="" coords="755,259,881,285"/>
<area shape="rect" id="node5" href="hal__storage_8c.html#a606e5842dd354f1fb4a738ba95c6d5d1" title="internal function to init the filesystem if handle is invalid " alt="" coords="767,208,869,235"/>
<area shape="rect" id="node7" href="hal__storage_8c.html#a4b6566ef5b69c85d422df52435c95d36" title="Internal helper to check for a valid WL handle and the correct tid. " alt="" coords="973,259,1103,285"/>
<area shape="rect" id="node12" href="hal__storage_8c.html#ace0ac79b0e2b273d97e5b806de9eb493" title="Store an infrared command to storage. " alt="" coords="489,360,618,387"/>
<area shape="rect" id="node13" href="hal__storage_8c.html#ae5e6fcc8c1bdff7f78009830bc78f260" title="Get the number of first available slot for an IR command. " alt="" coords="720,360,916,387"/>
<area shape="rect" id="node17" href="hal__serial_8c.html#a132de0978f07044a393cc1f3b5276ced" title="halSerialSwitchTXChannel" alt="" coords="465,461,642,488"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a937cdeb2f02b0c5d9a0f94a0f69e9328_icgraph.png" border="0" usemap="#task__commands_8c_a937cdeb2f02b0c5d9a0f94a0f69e9328_icgraph" alt=""/></div>
<map name="task__commands_8c_a937cdeb2f02b0c5d9a0f94a0f69e9328_icgraph" id="task__commands_8c_a937cdeb2f02b0c5d9a0f94a0f69e9328_icgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="177,31,296,57"/>
<area shape="rect" id="node3" href="task__commands_8h.html#aedb896e40753227f80768e09d3748419" title="Init the command parser. " alt="" coords="357,5,489,32"/>
<area shape="rect" id="node5" href="task__commands_8h.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. " alt="" coords="344,56,501,83"/>
<area shape="rect" id="node4" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="549,5,628,32"/>
</map>
</div>

</div>
</div>
<a id="ac3c72c089d32dea93c45f4f9f8d1f244"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3c72c089d32dea93c45f4f9f8d1f244">&#9670;&nbsp;</a></span>doKeyboardParsing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a> doKeyboardParsing </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>cmdBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="task__kbd_8h.html#a1ea00a7b13dc2b804f53e6f79cb89f2c">taskKeyboardConfig_t</a> *&#160;</td>
          <td class="paramname"><em>kbdinstance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00852">852</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l01181">task_commands()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_ac3c72c089d32dea93c45f4f9f8d1f244_cgraph.png" border="0" usemap="#task__commands_8c_ac3c72c089d32dea93c45f4f9f8d1f244_cgraph" alt=""/></div>
<map name="task__commands_8c_ac3c72c089d32dea93c45f4f9f8d1f244_cgraph" id="task__commands_8c_ac3c72c089d32dea93c45f4f9f8d1f244_cgraph">
<area shape="rect" id="node2" href="task__kbd_8c.html#a8ff4618047a049178bfb1d60abfefb5d" title="FUNCTIONAL TASK &#45; trigger keyboard actions. " alt="" coords="220,5,327,32"/>
<area shape="rect" id="node4" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="589,56,710,83"/>
<area shape="rect" id="node5" href="keyboard_8c.html#add849eefda31316c7d22d45f49e261e2" title="Parse a decoded code point to a keycode, step 2. " alt="" coords="203,157,344,184"/>
<area shape="rect" id="node6" href="keyboard_8c.html#a6b593fa493aea40be410640981b1c181" title="Parse a keycode for deadkey input, step 3. " alt="" coords="201,208,346,235"/>
<area shape="rect" id="node7" href="keyboard_8c.html#a464318439ffe82e71e063a5c9582aa69" title="Mask the keycode to get the HID keycode, step 4. " alt="" coords="215,259,332,285"/>
<area shape="rect" id="node8" href="keyboard_8c.html#acdbf297ed74d4534f035e0732c2f1081" title="Mask the keycode to get the modifiers, step 5. " alt="" coords="202,309,345,336"/>
<area shape="rect" id="node9" href="task__commands_8c.html#acea81ba8a182ae78feb2db6418fc1806" title="sendErrorBack" alt="" coords="219,107,327,133"/>
<area shape="rect" id="node24" href="keyboard_8c.html#a74d92b54cde636cae76575e8b0cad378" title="Parse a key identifier to a keycode. " alt="" coords="188,360,359,387"/>
<area shape="rect" id="node25" href="keyboard_8c.html#aa5712a49152638257c16d39ea798a43e" title="Is this keycode a modifier? " alt="" coords="203,411,344,437"/>
<area shape="rect" id="node3" href="task__kbd_8c.html#a7d605cb2407a7a7309911c70e28a9884" title="Helper function sending to queues depending on connection type. " alt="" coords="416,5,489,32"/>
<area shape="rect" id="node10" href="hal__serial_8c.html#a8f987ba001c2a39c959a551a94b5df43" title="Send serial bytes to USB&#45;Serial (USB&#45;CDC) " alt="" coords="568,107,731,133"/>
<area shape="rect" id="node12" href="task__commands_8c.html#ad59215648a26578c22baa7ceae099e0e" title="Print the current slot configurations (general settings + VBs) " alt="" coords="407,259,499,285"/>
<area shape="rect" id="node11" href="hal__serial_8c.html#a132de0978f07044a393cc1f3b5276ced" title="halSerialSwitchTXChannel" alt="" coords="800,107,977,133"/>
<area shape="rect" id="node13" href="hal__storage_8c.html#ac67aaf5a3af4140bff3d7c134b9d771f" title="Start a storage transaction. " alt="" coords="559,528,739,555"/>
<area shape="rect" id="node15" href="hal__storage_8c.html#a7e0a934f829b47e2445189dd95e962d6" title="Get the number of stored slots. " alt="" coords="552,259,747,285"/>
<area shape="rect" id="node17" href="hal__storage_8c.html#a2046481d14910cc6a5b0086a796f293b" title="Get the name of a slot number. " alt="" coords="547,477,752,504"/>
<area shape="rect" id="node18" href="task__mouse_8c.html#a053f423dca1422f48f7ac0314cb94d8c" title="Reverse Parsing &#45; get AT command for mouse VB. " alt="" coords="582,208,717,235"/>
<area shape="rect" id="node19" href="task__kbd_8c.html#a43469aecbc3cd22a6ed1e6a73dc978bf" title="Reverse Parsing &#45; get AT command for keyboard VB. " alt="" coords="575,157,724,184"/>
<area shape="rect" id="node21" href="config__switcher_8c.html#a68e6ddb2557b0bf3e2d84952feb0b5a5" title="Reverse Parsing &#45; get AT command for configswitcher VB. " alt="" coords="580,310,719,351"/>
<area shape="rect" id="node22" href="task__infrared_8c.html#a1e71679519e33c714fcdf3ce9023191e" title="Reverse Parsing &#45; get AT command for IR VB. " alt="" coords="580,376,719,403"/>
<area shape="rect" id="node23" href="hal__storage_8c.html#a00b5db14e24d7ada8a42aa6b3f1a1cb7" title="Finish a storage transaction. " alt="" coords="556,427,743,453"/>
<area shape="rect" id="node14" href="hal__storage_8c.html#a606e5842dd354f1fb4a738ba95c6d5d1" title="internal function to init the filesystem if handle is invalid " alt="" coords="837,528,940,555"/>
<area shape="rect" id="node16" href="hal__storage_8c.html#a4b6566ef5b69c85d422df52435c95d36" title="Internal helper to check for a valid WL handle and the correct tid. " alt="" coords="824,368,953,395"/>
<area shape="rect" id="node20" href="keyboard_8c.html#a027266c03329f00b7bbfefd0e828463c" title="Parse a keycode to a key identifier. " alt="" coords="803,157,974,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_ac3c72c089d32dea93c45f4f9f8d1f244_icgraph.png" border="0" usemap="#task__commands_8c_ac3c72c089d32dea93c45f4f9f8d1f244_icgraph" alt=""/></div>
<map name="task__commands_8c_ac3c72c089d32dea93c45f4f9f8d1f244_icgraph" id="task__commands_8c_ac3c72c089d32dea93c45f4f9f8d1f244_icgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="188,31,307,57"/>
<area shape="rect" id="node3" href="task__commands_8h.html#aedb896e40753227f80768e09d3748419" title="Init the command parser. " alt="" coords="367,5,499,32"/>
<area shape="rect" id="node5" href="task__commands_8h.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. " alt="" coords="355,56,512,83"/>
<area shape="rect" id="node4" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="560,5,639,32"/>
</map>
</div>

</div>
</div>
<a id="acdd5ac250a84f0f62d23f174b7366432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdd5ac250a84f0f62d23f174b7366432">&#9670;&nbsp;</a></span>doMacroParsing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a> doMacroParsing </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>cmdBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="task__macros_8h.html#a53ebc7d166c7d671841c937b0820ddfb">taskMacrosConfig_t</a> *&#160;</td>
          <td class="paramname"><em>macroinstance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l01031">1031</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l01181">task_commands()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_acdd5ac250a84f0f62d23f174b7366432_cgraph.png" border="0" usemap="#task__commands_8c_acdd5ac250a84f0f62d23f174b7366432_cgraph" alt=""/></div>
<map name="task__commands_8c_acdd5ac250a84f0f62d23f174b7366432_cgraph" id="task__commands_8c_acdd5ac250a84f0f62d23f174b7366432_cgraph">
<area shape="rect" id="node2" href="task__macros_8c.html#a7acda2dcac23ebfffade8a15b40d219f" title="FUNCTIONAL TASK &#45; Macro execution. " alt="" coords="169,5,260,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_acdd5ac250a84f0f62d23f174b7366432_icgraph.png" border="0" usemap="#task__commands_8c_acdd5ac250a84f0f62d23f174b7366432_icgraph" alt=""/></div>
<map name="task__commands_8c_acdd5ac250a84f0f62d23f174b7366432_icgraph" id="task__commands_8c_acdd5ac250a84f0f62d23f174b7366432_icgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="169,31,288,57"/>
<area shape="rect" id="node3" href="task__commands_8h.html#aedb896e40753227f80768e09d3748419" title="Init the command parser. " alt="" coords="349,5,481,32"/>
<area shape="rect" id="node5" href="task__commands_8h.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. " alt="" coords="336,56,493,83"/>
<area shape="rect" id="node4" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="541,5,620,32"/>
</map>
</div>

</div>
</div>
<a id="a580d9f6a840975525358033a35f761d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a580d9f6a840975525358033a35f761d0">&#9670;&nbsp;</a></span>doMouseParsing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a> doMouseParsing </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>cmdBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="task__mouse_8h.html#aa8af5afb3b111ccabb1e207ae4cabcaa">taskMouseConfig_t</a> *&#160;</td>
          <td class="paramname"><em>mouseinstance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l01057">1057</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l01181">task_commands()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a580d9f6a840975525358033a35f761d0_cgraph.png" border="0" usemap="#task__commands_8c_a580d9f6a840975525358033a35f761d0_cgraph" alt=""/></div>
<map name="task__commands_8c_a580d9f6a840975525358033a35f761d0_cgraph" id="task__commands_8c_a580d9f6a840975525358033a35f761d0_cgraph">
<area shape="rect" id="node2" href="task__mouse_8c.html#aa8f5c0436e569589e735c419fc3d0ed8" title="FUNCTIONAL TASK &#45; Trigger mouse action. " alt="" coords="179,5,273,32"/>
<area shape="rect" id="node3" href="task__mouse_8c.html#ab5cfaaac2cd4ec6fc79546f847db96de" title="Get the current mouse wheel step size. " alt="" coords="328,56,455,83"/>
<area shape="rect" id="node5" href="task__commands_8c.html#acea81ba8a182ae78feb2db6418fc1806" title="sendErrorBack" alt="" coords="172,157,280,184"/>
<area shape="rect" id="node20" href="task__mouse_8c.html#ac5aaa616044b7bef9f75347719181dbe" title="Set current mouse wheel step size. " alt="" coords="328,107,455,133"/>
<area shape="rect" id="node4" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="545,81,666,108"/>
<area shape="rect" id="node6" href="hal__serial_8c.html#a8f987ba001c2a39c959a551a94b5df43" title="Send serial bytes to USB&#45;Serial (USB&#45;CDC) " alt="" coords="524,132,687,159"/>
<area shape="rect" id="node8" href="task__commands_8c.html#ad59215648a26578c22baa7ceae099e0e" title="Print the current slot configurations (general settings + VBs) " alt="" coords="345,284,437,311"/>
<area shape="rect" id="node7" href="hal__serial_8c.html#a132de0978f07044a393cc1f3b5276ced" title="halSerialSwitchTXChannel" alt="" coords="756,132,933,159"/>
<area shape="rect" id="node9" href="hal__storage_8c.html#ac67aaf5a3af4140bff3d7c134b9d771f" title="Start a storage transaction. " alt="" coords="515,553,695,580"/>
<area shape="rect" id="node11" href="hal__storage_8c.html#a7e0a934f829b47e2445189dd95e962d6" title="Get the number of stored slots. " alt="" coords="508,284,703,311"/>
<area shape="rect" id="node13" href="hal__storage_8c.html#a2046481d14910cc6a5b0086a796f293b" title="Get the name of a slot number. " alt="" coords="503,503,708,529"/>
<area shape="rect" id="node14" href="task__mouse_8c.html#a053f423dca1422f48f7ac0314cb94d8c" title="Reverse Parsing &#45; get AT command for mouse VB. " alt="" coords="538,233,673,260"/>
<area shape="rect" id="node15" href="task__kbd_8c.html#a43469aecbc3cd22a6ed1e6a73dc978bf" title="Reverse Parsing &#45; get AT command for keyboard VB. " alt="" coords="531,183,680,209"/>
<area shape="rect" id="node17" href="config__switcher_8c.html#a68e6ddb2557b0bf3e2d84952feb0b5a5" title="Reverse Parsing &#45; get AT command for configswitcher VB. " alt="" coords="536,335,675,377"/>
<area shape="rect" id="node18" href="task__infrared_8c.html#a1e71679519e33c714fcdf3ce9023191e" title="Reverse Parsing &#45; get AT command for IR VB. " alt="" coords="536,401,675,428"/>
<area shape="rect" id="node19" href="hal__storage_8c.html#a00b5db14e24d7ada8a42aa6b3f1a1cb7" title="Finish a storage transaction. " alt="" coords="512,452,699,479"/>
<area shape="rect" id="node10" href="hal__storage_8c.html#a606e5842dd354f1fb4a738ba95c6d5d1" title="internal function to init the filesystem if handle is invalid " alt="" coords="793,553,896,580"/>
<area shape="rect" id="node12" href="hal__storage_8c.html#a4b6566ef5b69c85d422df52435c95d36" title="Internal helper to check for a valid WL handle and the correct tid. " alt="" coords="780,393,909,420"/>
<area shape="rect" id="node16" href="keyboard_8c.html#a027266c03329f00b7bbfefd0e828463c" title="Parse a keycode to a key identifier. " alt="" coords="759,183,930,209"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a580d9f6a840975525358033a35f761d0_icgraph.png" border="0" usemap="#task__commands_8c_a580d9f6a840975525358033a35f761d0_icgraph" alt=""/></div>
<map name="task__commands_8c_a580d9f6a840975525358033a35f761d0_icgraph" id="task__commands_8c_a580d9f6a840975525358033a35f761d0_icgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="172,31,291,57"/>
<area shape="rect" id="node3" href="task__commands_8h.html#aedb896e40753227f80768e09d3748419" title="Init the command parser. " alt="" coords="351,5,483,32"/>
<area shape="rect" id="node5" href="task__commands_8h.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. " alt="" coords="339,56,496,83"/>
<area shape="rect" id="node4" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="544,5,623,32"/>
</map>
</div>

</div>
</div>
<a id="a2ad28759e53bb5082853d8d004767115"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ad28759e53bb5082853d8d004767115">&#9670;&nbsp;</a></span>doMouthpieceSettingsParsing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a> doMouthpieceSettingsParsing </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>cmdBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common_8h.html#a735049d5abb65dcaa7ba76917158a3b3">taskNoParameterConfig_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00154">154</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l01181">task_commands()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a2ad28759e53bb5082853d8d004767115_cgraph.png" border="0" usemap="#task__commands_8c_a2ad28759e53bb5082853d8d004767115_cgraph" alt=""/></div>
<map name="task__commands_8c_a2ad28759e53bb5082853d8d004767115_cgraph" id="task__commands_8c_a2ad28759e53bb5082853d8d004767115_cgraph">
<area shape="rect" id="node2" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="614,5,735,32"/>
<area shape="rect" id="node3" href="hal__adc_8c.html#a3217185bc86562dee8617ded3872022f" title="FUNCTIONAL TASK &#45; Trigger zero&#45;point calibration of mouthpiece. " alt="" coords="248,167,361,193"/>
<area shape="rect" id="node5" href="task__commands_8c.html#acea81ba8a182ae78feb2db6418fc1806" title="sendErrorBack" alt="" coords="251,91,359,117"/>
<area shape="rect" id="node4" href="hal__adc_8c.html#ae549c157d94729e8b06cb391f0f2c97b" title="Calibration function. " alt="" coords="409,236,524,263"/>
<area shape="rect" id="node6" href="hal__serial_8c.html#a8f987ba001c2a39c959a551a94b5df43" title="Send serial bytes to USB&#45;Serial (USB&#45;CDC) " alt="" coords="593,56,756,83"/>
<area shape="rect" id="node8" href="task__commands_8c.html#ad59215648a26578c22baa7ceae099e0e" title="Print the current slot configurations (general settings + VBs) " alt="" coords="421,185,513,212"/>
<area shape="rect" id="node7" href="hal__serial_8c.html#a132de0978f07044a393cc1f3b5276ced" title="halSerialSwitchTXChannel" alt="" coords="825,56,1003,83"/>
<area shape="rect" id="node9" href="hal__storage_8c.html#ac67aaf5a3af4140bff3d7c134b9d771f" title="Start a storage transaction. " alt="" coords="585,477,765,504"/>
<area shape="rect" id="node11" href="hal__storage_8c.html#a7e0a934f829b47e2445189dd95e962d6" title="Get the number of stored slots. " alt="" coords="577,208,772,235"/>
<area shape="rect" id="node13" href="hal__storage_8c.html#a2046481d14910cc6a5b0086a796f293b" title="Get the name of a slot number. " alt="" coords="572,427,777,453"/>
<area shape="rect" id="node14" href="task__mouse_8c.html#a053f423dca1422f48f7ac0314cb94d8c" title="Reverse Parsing &#45; get AT command for mouse VB. " alt="" coords="607,157,742,184"/>
<area shape="rect" id="node15" href="task__kbd_8c.html#a43469aecbc3cd22a6ed1e6a73dc978bf" title="Reverse Parsing &#45; get AT command for keyboard VB. " alt="" coords="600,107,749,133"/>
<area shape="rect" id="node17" href="config__switcher_8c.html#a68e6ddb2557b0bf3e2d84952feb0b5a5" title="Reverse Parsing &#45; get AT command for configswitcher VB. " alt="" coords="605,259,744,301"/>
<area shape="rect" id="node18" href="task__infrared_8c.html#a1e71679519e33c714fcdf3ce9023191e" title="Reverse Parsing &#45; get AT command for IR VB. " alt="" coords="605,325,744,352"/>
<area shape="rect" id="node19" href="hal__storage_8c.html#a00b5db14e24d7ada8a42aa6b3f1a1cb7" title="Finish a storage transaction. " alt="" coords="581,376,768,403"/>
<area shape="rect" id="node10" href="hal__storage_8c.html#a606e5842dd354f1fb4a738ba95c6d5d1" title="internal function to init the filesystem if handle is invalid " alt="" coords="863,477,965,504"/>
<area shape="rect" id="node12" href="hal__storage_8c.html#a4b6566ef5b69c85d422df52435c95d36" title="Internal helper to check for a valid WL handle and the correct tid. " alt="" coords="849,317,979,344"/>
<area shape="rect" id="node16" href="keyboard_8c.html#a027266c03329f00b7bbfefd0e828463c" title="Parse a keycode to a key identifier. " alt="" coords="829,107,999,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a2ad28759e53bb5082853d8d004767115_icgraph.png" border="0" usemap="#task__commands_8c_a2ad28759e53bb5082853d8d004767115_icgraph" alt=""/></div>
<map name="task__commands_8c_a2ad28759e53bb5082853d8d004767115_icgraph" id="task__commands_8c_a2ad28759e53bb5082853d8d004767115_icgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="248,31,367,57"/>
<area shape="rect" id="node3" href="task__commands_8h.html#aedb896e40753227f80768e09d3748419" title="Init the command parser. " alt="" coords="427,5,559,32"/>
<area shape="rect" id="node5" href="task__commands_8h.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. " alt="" coords="415,56,572,83"/>
<area shape="rect" id="node4" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="620,5,699,32"/>
</map>
</div>

</div>
</div>
<a id="a69b0c55558b32caa21407de8e2277be9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69b0c55558b32caa21407de8e2277be9">&#9670;&nbsp;</a></span>doStorageParsing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="task__commands_8c.html#a9d6dfce3cb5edf05065b6dc2b175776d">parserstate_t</a> doStorageParsing </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>cmdBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="config__switcher_8h.html#aa6d38946df351bfaec1994fdb081e7db">taskConfigSwitcherConfig_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00392">392</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l01181">task_commands()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a69b0c55558b32caa21407de8e2277be9_cgraph.png" border="0" usemap="#task__commands_8c_a69b0c55558b32caa21407de8e2277be9_cgraph" alt=""/></div>
<map name="task__commands_8c_a69b0c55558b32caa21407de8e2277be9_cgraph" id="task__commands_8c_a69b0c55558b32caa21407de8e2277be9_cgraph">
<area shape="rect" id="node2" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="217,5,339,32"/>
<area shape="rect" id="node3" href="config__switcher_8c.html#a083adf41746c3380dcc6dbc099047f2e" title="FUNCTIONAL TASK &#45; Load another slot. " alt="" coords="209,56,347,83"/>
<area shape="rect" id="node4" href="hal__storage_8c.html#ac67aaf5a3af4140bff3d7c134b9d771f" title="Start a storage transaction. " alt="" coords="188,107,368,133"/>
<area shape="rect" id="node6" href="hal__storage_8c.html#a7e0a934f829b47e2445189dd95e962d6" title="Get the number of stored slots. " alt="" coords="181,157,375,184"/>
<area shape="rect" id="node8" href="hal__storage_8c.html#aadf9ff06990d0f0af2eea2e6f2b8082a" title="Store a generalConfig_t struct. " alt="" coords="221,208,335,235"/>
<area shape="rect" id="node9" href="hal__storage_8c.html#a00b5db14e24d7ada8a42aa6b3f1a1cb7" title="Finish a storage transaction. " alt="" coords="185,259,371,285"/>
<area shape="rect" id="node10" href="hal__storage_8c.html#a1503debb336ea2d708e4e0884c7aa6a3" title="Store a virtual button config struct. " alt="" coords="179,309,377,336"/>
<area shape="rect" id="node5" href="hal__storage_8c.html#a606e5842dd354f1fb4a738ba95c6d5d1" title="internal function to init the filesystem if handle is invalid " alt="" coords="439,107,541,133"/>
<area shape="rect" id="node7" href="hal__storage_8c.html#a4b6566ef5b69c85d422df52435c95d36" title="Internal helper to check for a valid WL handle and the correct tid. " alt="" coords="425,208,555,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a69b0c55558b32caa21407de8e2277be9_icgraph.png" border="0" usemap="#task__commands_8c_a69b0c55558b32caa21407de8e2277be9_icgraph" alt=""/></div>
<map name="task__commands_8c_a69b0c55558b32caa21407de8e2277be9_icgraph" id="task__commands_8c_a69b0c55558b32caa21407de8e2277be9_icgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="179,31,297,57"/>
<area shape="rect" id="node3" href="task__commands_8h.html#aedb896e40753227f80768e09d3748419" title="Init the command parser. " alt="" coords="358,5,490,32"/>
<area shape="rect" id="node5" href="task__commands_8h.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. " alt="" coords="345,56,503,83"/>
<area shape="rect" id="node4" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="551,5,629,32"/>
</map>
</div>

</div>
</div>
<a id="ad59215648a26578c22baa7ceae099e0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad59215648a26578c22baa7ceae099e0e">&#9670;&nbsp;</a></span>printAllSlots()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printAllSlots </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>printconfig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the current slot configurations (general settings + VBs) </p>
<p>This method prints the current slot configurations to the serial interface. Used for "AT LA" and "AT LI" command, which lists all slots. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">printconfig</td><td>If set != 0, the config is printed. If 0 only slotnames are printed. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l01369">1369</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00613">doGeneralCmdParsing()</a>, and <a class="el" href="task__commands_8c_source.html#l00108">sendErrorBack()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_ad59215648a26578c22baa7ceae099e0e_cgraph.png" border="0" usemap="#task__commands_8c_ad59215648a26578c22baa7ceae099e0e_cgraph" alt=""/></div>
<map name="task__commands_8c_ad59215648a26578c22baa7ceae099e0e_cgraph" id="task__commands_8c_ad59215648a26578c22baa7ceae099e0e_cgraph">
<area shape="rect" id="node2" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="187,5,309,32"/>
<area shape="rect" id="node3" href="hal__storage_8c.html#ac67aaf5a3af4140bff3d7c134b9d771f" title="Start a storage transaction. " alt="" coords="158,56,338,83"/>
<area shape="rect" id="node5" href="hal__storage_8c.html#a7e0a934f829b47e2445189dd95e962d6" title="Get the number of stored slots. " alt="" coords="151,107,345,133"/>
<area shape="rect" id="node7" href="hal__storage_8c.html#a2046481d14910cc6a5b0086a796f293b" title="Get the name of a slot number. " alt="" coords="145,157,351,184"/>
<area shape="rect" id="node8" href="hal__serial_8c.html#a8f987ba001c2a39c959a551a94b5df43" title="Send serial bytes to USB&#45;Serial (USB&#45;CDC) " alt="" coords="167,208,329,235"/>
<area shape="rect" id="node10" href="task__mouse_8c.html#a053f423dca1422f48f7ac0314cb94d8c" title="Reverse Parsing &#45; get AT command for mouse VB. " alt="" coords="181,259,315,285"/>
<area shape="rect" id="node11" href="task__kbd_8c.html#a43469aecbc3cd22a6ed1e6a73dc978bf" title="Reverse Parsing &#45; get AT command for keyboard VB. " alt="" coords="173,309,323,336"/>
<area shape="rect" id="node13" href="config__switcher_8c.html#a68e6ddb2557b0bf3e2d84952feb0b5a5" title="Reverse Parsing &#45; get AT command for configswitcher VB. " alt="" coords="179,361,317,402"/>
<area shape="rect" id="node14" href="task__infrared_8c.html#a1e71679519e33c714fcdf3ce9023191e" title="Reverse Parsing &#45; get AT command for IR VB. " alt="" coords="179,427,317,453"/>
<area shape="rect" id="node15" href="hal__storage_8c.html#a00b5db14e24d7ada8a42aa6b3f1a1cb7" title="Finish a storage transaction. " alt="" coords="155,477,341,504"/>
<area shape="rect" id="node4" href="hal__storage_8c.html#a606e5842dd354f1fb4a738ba95c6d5d1" title="internal function to init the filesystem if handle is invalid " alt="" coords="436,56,539,83"/>
<area shape="rect" id="node6" href="hal__storage_8c.html#a4b6566ef5b69c85d422df52435c95d36" title="Internal helper to check for a valid WL handle and the correct tid. " alt="" coords="423,132,552,159"/>
<area shape="rect" id="node9" href="hal__serial_8c.html#a132de0978f07044a393cc1f3b5276ced" title="halSerialSwitchTXChannel" alt="" coords="399,208,576,235"/>
<area shape="rect" id="node12" href="keyboard_8c.html#a027266c03329f00b7bbfefd0e828463c" title="Parse a keycode to a key identifier. " alt="" coords="402,309,573,336"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_ad59215648a26578c22baa7ceae099e0e_icgraph.png" border="0" usemap="#task__commands_8c_ad59215648a26578c22baa7ceae099e0e_icgraph" alt=""/></div>
<map name="task__commands_8c_ad59215648a26578c22baa7ceae099e0e_icgraph" id="task__commands_8c_ad59215648a26578c22baa7ceae099e0e_icgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7f6500be563a3dce7f0854fceed02fab" title="doGeneralCmdParsing" alt="" coords="322,5,475,32"/>
<area shape="rect" id="node7" href="task__commands_8c.html#acea81ba8a182ae78feb2db6418fc1806" title="sendErrorBack" alt="" coords="145,56,253,83"/>
<area shape="rect" id="node3" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="544,81,663,108"/>
<area shape="rect" id="node4" href="task__commands_8h.html#aedb896e40753227f80768e09d3748419" title="Init the command parser. " alt="" coords="723,56,855,83"/>
<area shape="rect" id="node6" href="task__commands_8h.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. " alt="" coords="711,107,868,133"/>
<area shape="rect" id="node5" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="916,56,995,83"/>
<area shape="rect" id="node8" href="task__commands_8c.html#a2ad28759e53bb5082853d8d004767115" title="doMouthpieceSettingsParsing" alt="" coords="301,56,496,83"/>
<area shape="rect" id="node9" href="task__commands_8c.html#ac3c72c089d32dea93c45f4f9f8d1f244" title="doKeyboardParsing" alt="" coords="331,107,466,133"/>
<area shape="rect" id="node10" href="task__commands_8c.html#a580d9f6a840975525358033a35f761d0" title="doMouseParsing" alt="" coords="339,157,458,184"/>
</map>
</div>

</div>
</div>
<a id="acea81ba8a182ae78feb2db6418fc1806"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acea81ba8a182ae78feb2db6418fc1806">&#9670;&nbsp;</a></span>sendErrorBack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sendErrorBack </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>extrainfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>simple helper function which sends back to the USB host "?" and prints an error on the console with the given extra infos. </p>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00108">108</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00613">doGeneralCmdParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00852">doKeyboardParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01057">doMouseParsing()</a>, and <a class="el" href="task__commands_8c_source.html#l00154">doMouthpieceSettingsParsing()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_acea81ba8a182ae78feb2db6418fc1806_cgraph.png" border="0" usemap="#task__commands_8c_acea81ba8a182ae78feb2db6418fc1806_cgraph" alt=""/></div>
<map name="task__commands_8c_acea81ba8a182ae78feb2db6418fc1806_cgraph" id="task__commands_8c_acea81ba8a182ae78feb2db6418fc1806_cgraph">
<area shape="rect" id="node2" href="hal__serial_8c.html#a8f987ba001c2a39c959a551a94b5df43" title="Send serial bytes to USB&#45;Serial (USB&#45;CDC) " alt="" coords="323,5,485,32"/>
<area shape="rect" id="node4" href="task__commands_8c.html#ad59215648a26578c22baa7ceae099e0e" title="Print the current slot configurations (general settings + VBs) " alt="" coords="161,208,253,235"/>
<area shape="rect" id="node3" href="hal__serial_8c.html#a132de0978f07044a393cc1f3b5276ced" title="halSerialSwitchTXChannel" alt="" coords="555,5,732,32"/>
<area shape="rect" id="node5" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="343,56,465,83"/>
<area shape="rect" id="node6" href="hal__storage_8c.html#ac67aaf5a3af4140bff3d7c134b9d771f" title="Start a storage transaction. " alt="" coords="314,107,494,133"/>
<area shape="rect" id="node8" href="hal__storage_8c.html#a7e0a934f829b47e2445189dd95e962d6" title="Get the number of stored slots. " alt="" coords="307,157,501,184"/>
<area shape="rect" id="node10" href="hal__storage_8c.html#a2046481d14910cc6a5b0086a796f293b" title="Get the name of a slot number. " alt="" coords="301,208,507,235"/>
<area shape="rect" id="node11" href="task__mouse_8c.html#a053f423dca1422f48f7ac0314cb94d8c" title="Reverse Parsing &#45; get AT command for mouse VB. " alt="" coords="337,259,471,285"/>
<area shape="rect" id="node12" href="task__kbd_8c.html#a43469aecbc3cd22a6ed1e6a73dc978bf" title="Reverse Parsing &#45; get AT command for keyboard VB. " alt="" coords="329,309,479,336"/>
<area shape="rect" id="node14" href="config__switcher_8c.html#a68e6ddb2557b0bf3e2d84952feb0b5a5" title="Reverse Parsing &#45; get AT command for configswitcher VB. " alt="" coords="335,361,473,402"/>
<area shape="rect" id="node15" href="task__infrared_8c.html#a1e71679519e33c714fcdf3ce9023191e" title="Reverse Parsing &#45; get AT command for IR VB. " alt="" coords="335,427,473,453"/>
<area shape="rect" id="node16" href="hal__storage_8c.html#a00b5db14e24d7ada8a42aa6b3f1a1cb7" title="Finish a storage transaction. " alt="" coords="311,477,497,504"/>
<area shape="rect" id="node7" href="hal__storage_8c.html#a606e5842dd354f1fb4a738ba95c6d5d1" title="internal function to init the filesystem if handle is invalid " alt="" coords="592,107,695,133"/>
<area shape="rect" id="node9" href="hal__storage_8c.html#a4b6566ef5b69c85d422df52435c95d36" title="Internal helper to check for a valid WL handle and the correct tid. " alt="" coords="579,183,708,209"/>
<area shape="rect" id="node13" href="keyboard_8c.html#a027266c03329f00b7bbfefd0e828463c" title="Parse a keycode to a key identifier. " alt="" coords="558,309,729,336"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_acea81ba8a182ae78feb2db6418fc1806_icgraph.png" border="0" usemap="#task__commands_8c_acea81ba8a182ae78feb2db6418fc1806_icgraph" alt=""/></div>
<map name="task__commands_8c_acea81ba8a182ae78feb2db6418fc1806_icgraph" id="task__commands_8c_acea81ba8a182ae78feb2db6418fc1806_icgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7f6500be563a3dce7f0854fceed02fab" title="doGeneralCmdParsing" alt="" coords="182,5,335,32"/>
<area shape="rect" id="node7" href="task__commands_8c.html#ac3c72c089d32dea93c45f4f9f8d1f244" title="doKeyboardParsing" alt="" coords="191,56,326,83"/>
<area shape="rect" id="node8" href="task__commands_8c.html#a580d9f6a840975525358033a35f761d0" title="doMouseParsing" alt="" coords="199,107,318,133"/>
<area shape="rect" id="node9" href="task__commands_8c.html#a2ad28759e53bb5082853d8d004767115" title="doMouthpieceSettingsParsing" alt="" coords="161,157,356,184"/>
<area shape="rect" id="node3" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="404,81,523,108"/>
<area shape="rect" id="node4" href="task__commands_8h.html#aedb896e40753227f80768e09d3748419" title="Init the command parser. " alt="" coords="583,56,715,83"/>
<area shape="rect" id="node6" href="task__commands_8h.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. " alt="" coords="571,107,728,133"/>
<area shape="rect" id="node5" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="776,56,855,83"/>
</map>
</div>

</div>
</div>
<a id="a7b36c39275d773aaedcb327ef4e1516f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b36c39275d773aaedcb327ef4e1516f">&#9670;&nbsp;</a></span>task_commands()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task_commands </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l01181">1181</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l01523">taskCommandsInit()</a>, and <a class="el" href="task__commands_8c_source.html#l01540">taskCommandsRestart()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a7b36c39275d773aaedcb327ef4e1516f_cgraph.png" border="0" usemap="#task__commands_8c_a7b36c39275d773aaedcb327ef4e1516f_cgraph" alt=""/></div>
<map name="task__commands_8c_a7b36c39275d773aaedcb327ef4e1516f_cgraph" id="task__commands_8c_a7b36c39275d773aaedcb327ef4e1516f_cgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#adf3aa67816eecac3e756189c9d61cbd2" title="checkqueues" alt="" coords="220,5,319,32"/>
<area shape="rect" id="node3" href="hal__serial_8c.html#a131377105453d5b94f02f977ff454613" title="Read serial bytes from USB&#45;Serial (USB&#45;CDC) " alt="" coords="179,56,360,83"/>
<area shape="rect" id="node4" href="hal__serial_8c.html#a8f987ba001c2a39c959a551a94b5df43" title="Send serial bytes to USB&#45;Serial (USB&#45;CDC) " alt="" coords="928,740,1091,767"/>
<area shape="rect" id="node6" href="task__commands_8c.html#a580d9f6a840975525358033a35f761d0" title="doMouseParsing" alt="" coords="210,664,329,691"/>
<area shape="rect" id="node18" href="task__commands_8c.html#a69b0c55558b32caa21407de8e2277be9" title="doStorageParsing" alt="" coords="680,1657,805,1684"/>
<area shape="rect" id="node22" href="task__commands_8c.html#ac3c72c089d32dea93c45f4f9f8d1f244" title="doKeyboardParsing" alt="" coords="202,385,337,412"/>
<area shape="rect" id="node31" href="task__commands_8c.html#a7f6500be563a3dce7f0854fceed02fab" title="doGeneralCmdParsing" alt="" coords="193,968,346,995"/>
<area shape="rect" id="node38" href="task__commands_8c.html#a937cdeb2f02b0c5d9a0f94a0f69e9328" title="doInfraredParsing" alt="" coords="438,1531,562,1557"/>
<area shape="rect" id="node45" href="task__commands_8c.html#a2ad28759e53bb5082853d8d004767115" title="doMouthpieceSettingsParsing" alt="" coords="172,1136,367,1163"/>
<area shape="rect" id="node47" href="task__commands_8c.html#acdd5ac250a84f0f62d23f174b7366432" title="doMacroParsing" alt="" coords="211,1632,327,1659"/>
<area shape="rect" id="node49" href="config__switcher_8c.html#a20db6aabb98f5c9c7cea48e950bada5b" title="Update one virtual button. " alt="" coords="211,1683,328,1709"/>
<area shape="rect" id="node50" href="config__switcher_8c.html#a4c2e410d8032c65c0700c6ca07429074" title="Trigger a config update. " alt="" coords="451,1708,549,1735"/>
<area shape="rect" id="node5" href="hal__serial_8c.html#a132de0978f07044a393cc1f3b5276ced" title="halSerialSwitchTXChannel" alt="" coords="1167,740,1344,767"/>
<area shape="rect" id="node7" href="task__mouse_8c.html#aa8f5c0436e569589e735c419fc3d0ed8" title="FUNCTIONAL TASK &#45; Trigger mouse action. " alt="" coords="453,563,547,589"/>
<area shape="rect" id="node8" href="task__mouse_8c.html#ab5cfaaac2cd4ec6fc79546f847db96de" title="Get the current mouse wheel step size. " alt="" coords="679,867,806,893"/>
<area shape="rect" id="node10" href="task__commands_8c.html#acea81ba8a182ae78feb2db6418fc1806" title="sendErrorBack" alt="" coords="446,715,554,741"/>
<area shape="rect" id="node17" href="task__mouse_8c.html#ac5aaa616044b7bef9f75347719181dbe" title="Set current mouse wheel step size. " alt="" coords="679,613,806,640"/>
<area shape="rect" id="node9" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="949,1080,1070,1107"/>
<area shape="rect" id="node11" href="task__commands_8c.html#ad59215648a26578c22baa7ceae099e0e" title="Print the current slot configurations (general settings + VBs) " alt="" coords="697,917,789,944"/>
<area shape="rect" id="node12" href="hal__storage_8c.html#ac67aaf5a3af4140bff3d7c134b9d771f" title="Start a storage transaction. " alt="" coords="919,1404,1099,1431"/>
<area shape="rect" id="node14" href="hal__storage_8c.html#a7e0a934f829b47e2445189dd95e962d6" title="Get the number of stored slots. " alt="" coords="912,1505,1107,1532"/>
<area shape="rect" id="node16" href="hal__storage_8c.html#a00b5db14e24d7ada8a42aa6b3f1a1cb7" title="Finish a storage transaction. " alt="" coords="916,1455,1103,1481"/>
<area shape="rect" id="node13" href="hal__storage_8c.html#a606e5842dd354f1fb4a738ba95c6d5d1" title="internal function to init the filesystem if handle is invalid " alt="" coords="1204,1404,1307,1431"/>
<area shape="rect" id="node15" href="hal__storage_8c.html#a4b6566ef5b69c85d422df52435c95d36" title="Internal helper to check for a valid WL handle and the correct tid. " alt="" coords="1191,1657,1320,1684"/>
<area shape="rect" id="node19" href="config__switcher_8c.html#a083adf41746c3380dcc6dbc099047f2e" title="FUNCTIONAL TASK &#45; Load another slot. " alt="" coords="940,1556,1079,1583"/>
<area shape="rect" id="node20" href="hal__storage_8c.html#aadf9ff06990d0f0af2eea2e6f2b8082a" title="Store a generalConfig_t struct. " alt="" coords="952,1607,1067,1633"/>
<area shape="rect" id="node21" href="hal__storage_8c.html#a1503debb336ea2d708e4e0884c7aa6a3" title="Store a virtual button config struct. " alt="" coords="910,1657,1109,1684"/>
<area shape="rect" id="node23" href="task__kbd_8c.html#a8ff4618047a049178bfb1d60abfefb5d" title="FUNCTIONAL TASK &#45; trigger keyboard actions. " alt="" coords="447,157,553,184"/>
<area shape="rect" id="node25" href="keyboard_8c.html#add849eefda31316c7d22d45f49e261e2" title="Parse a decoded code point to a keycode, step 2. " alt="" coords="429,411,571,437"/>
<area shape="rect" id="node26" href="keyboard_8c.html#a6b593fa493aea40be410640981b1c181" title="Parse a keycode for deadkey input, step 3. " alt="" coords="427,461,573,488"/>
<area shape="rect" id="node27" href="keyboard_8c.html#a464318439ffe82e71e063a5c9582aa69" title="Mask the keycode to get the HID keycode, step 4. " alt="" coords="441,208,559,235"/>
<area shape="rect" id="node28" href="keyboard_8c.html#acdbf297ed74d4534f035e0732c2f1081" title="Mask the keycode to get the modifiers, step 5. " alt="" coords="429,259,571,285"/>
<area shape="rect" id="node29" href="keyboard_8c.html#a74d92b54cde636cae76575e8b0cad378" title="Parse a key identifier to a keycode. " alt="" coords="415,309,585,336"/>
<area shape="rect" id="node30" href="keyboard_8c.html#aa5712a49152638257c16d39ea798a43e" title="Is this keycode a modifier? " alt="" coords="429,360,571,387"/>
<area shape="rect" id="node24" href="task__kbd_8c.html#a7d605cb2407a7a7309911c70e28a9884" title="Helper function sending to queues depending on connection type. " alt="" coords="706,157,779,184"/>
<area shape="rect" id="node32" href="hal__ble_8c.html#accf307974a0046bce38582d0260bf841" title="halBLEReset" alt="" coords="451,1027,549,1053"/>
<area shape="rect" id="node35" href="hal__serial_8c.html#ab2261f95747ee5806ebdec880d09ca89" title="Reset the serial HID report data. " alt="" coords="689,765,796,792"/>
<area shape="rect" id="node36" href="hal__storage_8c.html#a5fe9e276fd05e50e4ab9d554ef6f58ca" title="Delete one or all slots. " alt="" coords="937,888,1082,915"/>
<area shape="rect" id="node37" href="hal__storage_8c.html#aae19bcf97360ccd7af4ddf906ff85141" title="Get the number of a slotname. " alt="" coords="907,1353,1112,1380"/>
<area shape="rect" id="node33" href="esp__hidd__prf__api_8c.html#a0e953976c5ad30d8508ac11bc61cb6b2" title="esp_hidd_send_mouse\l_value" alt="" coords="665,1085,820,1126"/>
<area shape="rect" id="node34" href="esp__hidd__prf__api_8c.html#a694ff6418e79f3372b3feba7483e3222" title="esp_hidd_send_keyboard\l_value" alt="" coords="658,1019,827,1061"/>
<area shape="rect" id="node39" href="task__infrared_8c.html#a2950159444d03958630c6731bd1600c9" title="FUNCTIONAL TASK &#45; Infrared command sending. " alt="" coords="694,1455,791,1481"/>
<area shape="rect" id="node40" href="hal__storage_8c.html#a8347d2c8df82d17bc9af1d007bfd11ae" title="Delete one or all IR commands. " alt="" coords="927,1708,1091,1735"/>
<area shape="rect" id="node41" href="hal__storage_8c.html#a531bc39bc2808762298d14b79ac453cd" title="Get the number of an IR command. " alt="" coords="900,1759,1119,1785"/>
<area shape="rect" id="node42" href="task__infrared_8c.html#a6f7bfd75e03bde856f3e5fc9a2391fe3" title="Trigger an IR command recording. " alt="" coords="689,1556,797,1583"/>
<area shape="rect" id="node43" href="hal__storage_8c.html#a1495c793604980c76b334f6a6d553c3c" title="Get the number of stored IR commands. " alt="" coords="635,1809,850,1836"/>
<area shape="rect" id="node44" href="hal__storage_8c.html#a53912e9159b29e5fc974a127dbf0982f" title="Get the name of an infrared command stored at the given slot number. " alt="" coords="633,1860,852,1887"/>
<area shape="rect" id="node46" href="hal__adc_8c.html#a3217185bc86562dee8617ded3872022f" title="FUNCTIONAL TASK &#45; Trigger zero&#45;point calibration of mouthpiece. " alt="" coords="443,1480,557,1507"/>
<area shape="rect" id="node48" href="task__macros_8c.html#a7acda2dcac23ebfffade8a15b40d219f" title="FUNCTIONAL TASK &#45; Macro execution. " alt="" coords="455,1632,545,1659"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a7b36c39275d773aaedcb327ef4e1516f_icgraph.png" border="0" usemap="#task__commands_8c_a7b36c39275d773aaedcb327ef4e1516f_icgraph" alt=""/></div>
<map name="task__commands_8c_a7b36c39275d773aaedcb327ef4e1516f_icgraph" id="task__commands_8c_a7b36c39275d773aaedcb327ef4e1516f_icgraph">
<area shape="rect" id="node2" href="task__commands_8h.html#aedb896e40753227f80768e09d3748419" title="Init the command parser. " alt="" coords="185,5,317,32"/>
<area shape="rect" id="node4" href="task__commands_8h.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. " alt="" coords="172,56,329,83"/>
<area shape="rect" id="node3" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="377,5,456,32"/>
</map>
</div>

</div>
</div>
<a id="aedb896e40753227f80768e09d3748419"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedb896e40753227f80768e09d3748419">&#9670;&nbsp;</a></span>taskCommandsInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t taskCommandsInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Init the command parser. </p>
<p>This method starts the command parser task, which handles incoming UART bytes &amp; responses if necessary. If necessary, this task deletes itself &amp; starts a CIM task (it MUST be the other way as well to restart the AT command parser) </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="task__commands_8c.html#a26091155b4d85093239033d689f363d0" title="Restart the command parser task. ">taskCommandsRestart</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>ESP_OK on success, ESP_FAIL otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l01523">1523</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="flipmouse__fabi__esp32__kbdmouse__main_8c_source.html#l00073">app_main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_aedb896e40753227f80768e09d3748419_cgraph.png" border="0" usemap="#task__commands_8c_aedb896e40753227f80768e09d3748419_cgraph" alt=""/></div>
<map name="task__commands_8c_aedb896e40753227f80768e09d3748419_cgraph" id="task__commands_8c_aedb896e40753227f80768e09d3748419_cgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="185,816,304,843"/>
<area shape="rect" id="node3" href="task__commands_8c.html#adf3aa67816eecac3e756189c9d61cbd2" title="checkqueues" alt="" coords="400,183,499,209"/>
<area shape="rect" id="node4" href="hal__serial_8c.html#a131377105453d5b94f02f977ff454613" title="Read serial bytes from USB&#45;Serial (USB&#45;CDC) " alt="" coords="359,233,540,260"/>
<area shape="rect" id="node5" href="hal__serial_8c.html#a8f987ba001c2a39c959a551a94b5df43" title="Send serial bytes to USB&#45;Serial (USB&#45;CDC) " alt="" coords="1101,841,1264,868"/>
<area shape="rect" id="node7" href="task__commands_8c.html#a580d9f6a840975525358033a35f761d0" title="doMouseParsing" alt="" coords="390,613,509,640"/>
<area shape="rect" id="node19" href="task__commands_8c.html#a69b0c55558b32caa21407de8e2277be9" title="doStorageParsing" alt="" coords="860,1541,985,1568"/>
<area shape="rect" id="node23" href="task__commands_8c.html#ac3c72c089d32dea93c45f4f9f8d1f244" title="doKeyboardParsing" alt="" coords="382,284,517,311"/>
<area shape="rect" id="node32" href="task__commands_8c.html#a7f6500be563a3dce7f0854fceed02fab" title="doGeneralCmdParsing" alt="" coords="373,917,526,944"/>
<area shape="rect" id="node38" href="task__commands_8c.html#a937cdeb2f02b0c5d9a0f94a0f69e9328" title="doInfraredParsing" alt="" coords="618,1440,742,1467"/>
<area shape="rect" id="node45" href="task__commands_8c.html#a2ad28759e53bb5082853d8d004767115" title="doMouthpieceSettingsParsing" alt="" coords="352,487,547,513"/>
<area shape="rect" id="node47" href="task__commands_8c.html#acdd5ac250a84f0f62d23f174b7366432" title="doMacroParsing" alt="" coords="391,1541,507,1568"/>
<area shape="rect" id="node49" href="config__switcher_8c.html#a20db6aabb98f5c9c7cea48e950bada5b" title="Update one virtual button. " alt="" coords="391,1592,508,1619"/>
<area shape="rect" id="node50" href="config__switcher_8c.html#a4c2e410d8032c65c0700c6ca07429074" title="Trigger a config update. " alt="" coords="631,1617,729,1644"/>
<area shape="rect" id="node6" href="hal__serial_8c.html#a132de0978f07044a393cc1f3b5276ced" title="halSerialSwitchTXChannel" alt="" coords="1333,841,1511,868"/>
<area shape="rect" id="node8" href="task__mouse_8c.html#aa8f5c0436e569589e735c419fc3d0ed8" title="FUNCTIONAL TASK &#45; Trigger mouse action. " alt="" coords="633,563,727,589"/>
<area shape="rect" id="node9" href="task__mouse_8c.html#ab5cfaaac2cd4ec6fc79546f847db96de" title="Get the current mouse wheel step size. " alt="" coords="859,664,986,691"/>
<area shape="rect" id="node11" href="task__commands_8c.html#acea81ba8a182ae78feb2db6418fc1806" title="sendErrorBack" alt="" coords="626,512,734,539"/>
<area shape="rect" id="node18" href="task__mouse_8c.html#ac5aaa616044b7bef9f75347719181dbe" title="Set current mouse wheel step size. " alt="" coords="859,613,986,640"/>
<area shape="rect" id="node10" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="1122,715,1243,741"/>
<area shape="rect" id="node12" href="task__commands_8c.html#ad59215648a26578c22baa7ceae099e0e" title="Print the current slot configurations (general settings + VBs) " alt="" coords="877,917,969,944"/>
<area shape="rect" id="node13" href="hal__storage_8c.html#ac67aaf5a3af4140bff3d7c134b9d771f" title="Start a storage transaction. " alt="" coords="1093,1288,1273,1315"/>
<area shape="rect" id="node15" href="hal__storage_8c.html#a7e0a934f829b47e2445189dd95e962d6" title="Get the number of stored slots. " alt="" coords="1085,1389,1280,1416"/>
<area shape="rect" id="node17" href="hal__storage_8c.html#a00b5db14e24d7ada8a42aa6b3f1a1cb7" title="Finish a storage transaction. " alt="" coords="1089,1339,1276,1365"/>
<area shape="rect" id="node14" href="hal__storage_8c.html#a606e5842dd354f1fb4a738ba95c6d5d1" title="internal function to init the filesystem if handle is invalid " alt="" coords="1371,1288,1473,1315"/>
<area shape="rect" id="node16" href="hal__storage_8c.html#a4b6566ef5b69c85d422df52435c95d36" title="Internal helper to check for a valid WL handle and the correct tid. " alt="" coords="1357,1491,1487,1517"/>
<area shape="rect" id="node20" href="config__switcher_8c.html#a083adf41746c3380dcc6dbc099047f2e" title="FUNCTIONAL TASK &#45; Load another slot. " alt="" coords="1113,1541,1252,1568"/>
<area shape="rect" id="node21" href="hal__storage_8c.html#aadf9ff06990d0f0af2eea2e6f2b8082a" title="Store a generalConfig_t struct. " alt="" coords="1125,1440,1240,1467"/>
<area shape="rect" id="node22" href="hal__storage_8c.html#a1503debb336ea2d708e4e0884c7aa6a3" title="Store a virtual button config struct. " alt="" coords="1083,1491,1282,1517"/>
<area shape="rect" id="node24" href="task__kbd_8c.html#a8ff4618047a049178bfb1d60abfefb5d" title="FUNCTIONAL TASK &#45; trigger keyboard actions. " alt="" coords="627,157,733,184"/>
<area shape="rect" id="node26" href="keyboard_8c.html#add849eefda31316c7d22d45f49e261e2" title="Parse a decoded code point to a keycode, step 2. " alt="" coords="609,56,751,83"/>
<area shape="rect" id="node27" href="keyboard_8c.html#a6b593fa493aea40be410640981b1c181" title="Parse a keycode for deadkey input, step 3. " alt="" coords="607,107,753,133"/>
<area shape="rect" id="node28" href="keyboard_8c.html#a464318439ffe82e71e063a5c9582aa69" title="Mask the keycode to get the HID keycode, step 4. " alt="" coords="621,208,739,235"/>
<area shape="rect" id="node29" href="keyboard_8c.html#acdbf297ed74d4534f035e0732c2f1081" title="Mask the keycode to get the modifiers, step 5. " alt="" coords="609,259,751,285"/>
<area shape="rect" id="node30" href="keyboard_8c.html#a74d92b54cde636cae76575e8b0cad378" title="Parse a key identifier to a keycode. " alt="" coords="595,309,765,336"/>
<area shape="rect" id="node31" href="keyboard_8c.html#aa5712a49152638257c16d39ea798a43e" title="Is this keycode a modifier? " alt="" coords="609,5,751,32"/>
<area shape="rect" id="node25" href="task__kbd_8c.html#a7d605cb2407a7a7309911c70e28a9884" title="Helper function sending to queues depending on connection type. " alt="" coords="886,157,959,184"/>
<area shape="rect" id="node33" href="hal__ble_8c.html#accf307974a0046bce38582d0260bf841" title="halBLEReset" alt="" coords="631,972,729,999"/>
<area shape="rect" id="node35" href="hal__serial_8c.html#ab2261f95747ee5806ebdec880d09ca89" title="Reset the serial HID report data. " alt="" coords="869,867,976,893"/>
<area shape="rect" id="node36" href="hal__storage_8c.html#a5fe9e276fd05e50e4ab9d554ef6f58ca" title="Delete one or all slots. " alt="" coords="1110,1085,1255,1112"/>
<area shape="rect" id="node37" href="hal__storage_8c.html#aae19bcf97360ccd7af4ddf906ff85141" title="Get the number of a slotname. " alt="" coords="1080,1187,1285,1213"/>
<area shape="rect" id="node34" href="esp__hidd__prf__api_8c.html#a0e953976c5ad30d8508ac11bc61cb6b2" title="esp_hidd_send_mouse\l_value" alt="" coords="845,969,1000,1010"/>
<area shape="rect" id="node39" href="task__infrared_8c.html#a2950159444d03958630c6731bd1600c9" title="FUNCTIONAL TASK &#45; Infrared command sending. " alt="" coords="874,1339,971,1365"/>
<area shape="rect" id="node40" href="hal__storage_8c.html#a8347d2c8df82d17bc9af1d007bfd11ae" title="Delete one or all IR commands. " alt="" coords="1101,1592,1265,1619"/>
<area shape="rect" id="node41" href="hal__storage_8c.html#a531bc39bc2808762298d14b79ac453cd" title="Get the number of an IR command. " alt="" coords="813,1693,1032,1720"/>
<area shape="rect" id="node42" href="task__infrared_8c.html#a6f7bfd75e03bde856f3e5fc9a2391fe3" title="Trigger an IR command recording. " alt="" coords="869,1440,977,1467"/>
<area shape="rect" id="node43" href="hal__storage_8c.html#a1495c793604980c76b334f6a6d553c3c" title="Get the number of stored IR commands. " alt="" coords="815,1744,1030,1771"/>
<area shape="rect" id="node44" href="hal__storage_8c.html#a53912e9159b29e5fc974a127dbf0982f" title="Get the name of an infrared command stored at the given slot number. " alt="" coords="813,1643,1032,1669"/>
<area shape="rect" id="node46" href="hal__adc_8c.html#a3217185bc86562dee8617ded3872022f" title="FUNCTIONAL TASK &#45; Trigger zero&#45;point calibration of mouthpiece. " alt="" coords="623,461,737,488"/>
<area shape="rect" id="node48" href="task__macros_8c.html#a7acda2dcac23ebfffade8a15b40d219f" title="FUNCTIONAL TASK &#45; Macro execution. " alt="" coords="635,1541,725,1568"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_aedb896e40753227f80768e09d3748419_icgraph.png" border="0" usemap="#task__commands_8c_aedb896e40753227f80768e09d3748419_icgraph" alt=""/></div>
<map name="task__commands_8c_aedb896e40753227f80768e09d3748419_icgraph" id="task__commands_8c_aedb896e40753227f80768e09d3748419_icgraph">
<area shape="rect" id="node2" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="185,5,264,32"/>
</map>
</div>

</div>
</div>
<a id="a26091155b4d85093239033d689f363d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26091155b4d85093239033d689f363d0">&#9670;&nbsp;</a></span>taskCommandsRestart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t taskCommandsRestart </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restart the command parser task. </p>
<p>Restart the command parser task</p>
<p>This method is used, if the CIM parser detects AT commands and stops itself, providing the AT command set again. </p><dl class="section return"><dt>Returns</dt><dd>ESP_OK on success, ESP_FAIL otherwise (cannot start task, task already running) </dd></dl>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l01540">1540</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__commands_8c_a26091155b4d85093239033d689f363d0_cgraph.png" border="0" usemap="#task__commands_8c_a26091155b4d85093239033d689f363d0_cgraph" alt=""/></div>
<map name="task__commands_8c_a26091155b4d85093239033d689f363d0_cgraph" id="task__commands_8c_a26091155b4d85093239033d689f363d0_cgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a7b36c39275d773aaedcb327ef4e1516f" title="task_commands" alt="" coords="211,816,329,843"/>
<area shape="rect" id="node3" href="task__commands_8c.html#adf3aa67816eecac3e756189c9d61cbd2" title="checkqueues" alt="" coords="425,183,524,209"/>
<area shape="rect" id="node4" href="hal__serial_8c.html#a131377105453d5b94f02f977ff454613" title="Read serial bytes from USB&#45;Serial (USB&#45;CDC) " alt="" coords="384,233,565,260"/>
<area shape="rect" id="node5" href="hal__serial_8c.html#a8f987ba001c2a39c959a551a94b5df43" title="Send serial bytes to USB&#45;Serial (USB&#45;CDC) " alt="" coords="1127,841,1289,868"/>
<area shape="rect" id="node7" href="task__commands_8c.html#a580d9f6a840975525358033a35f761d0" title="doMouseParsing" alt="" coords="415,613,534,640"/>
<area shape="rect" id="node19" href="task__commands_8c.html#a69b0c55558b32caa21407de8e2277be9" title="doStorageParsing" alt="" coords="885,1541,1011,1568"/>
<area shape="rect" id="node23" href="task__commands_8c.html#ac3c72c089d32dea93c45f4f9f8d1f244" title="doKeyboardParsing" alt="" coords="407,284,542,311"/>
<area shape="rect" id="node32" href="task__commands_8c.html#a7f6500be563a3dce7f0854fceed02fab" title="doGeneralCmdParsing" alt="" coords="398,917,551,944"/>
<area shape="rect" id="node38" href="task__commands_8c.html#a937cdeb2f02b0c5d9a0f94a0f69e9328" title="doInfraredParsing" alt="" coords="643,1440,767,1467"/>
<area shape="rect" id="node45" href="task__commands_8c.html#a2ad28759e53bb5082853d8d004767115" title="doMouthpieceSettingsParsing" alt="" coords="377,487,572,513"/>
<area shape="rect" id="node47" href="task__commands_8c.html#acdd5ac250a84f0f62d23f174b7366432" title="doMacroParsing" alt="" coords="417,1541,533,1568"/>
<area shape="rect" id="node49" href="config__switcher_8c.html#a20db6aabb98f5c9c7cea48e950bada5b" title="Update one virtual button. " alt="" coords="416,1592,533,1619"/>
<area shape="rect" id="node50" href="config__switcher_8c.html#a4c2e410d8032c65c0700c6ca07429074" title="Trigger a config update. " alt="" coords="656,1617,755,1644"/>
<area shape="rect" id="node6" href="hal__serial_8c.html#a132de0978f07044a393cc1f3b5276ced" title="halSerialSwitchTXChannel" alt="" coords="1359,841,1536,868"/>
<area shape="rect" id="node8" href="task__mouse_8c.html#aa8f5c0436e569589e735c419fc3d0ed8" title="FUNCTIONAL TASK &#45; Trigger mouse action. " alt="" coords="659,563,752,589"/>
<area shape="rect" id="node9" href="task__mouse_8c.html#ab5cfaaac2cd4ec6fc79546f847db96de" title="Get the current mouse wheel step size. " alt="" coords="885,664,1011,691"/>
<area shape="rect" id="node11" href="task__commands_8c.html#acea81ba8a182ae78feb2db6418fc1806" title="sendErrorBack" alt="" coords="651,512,759,539"/>
<area shape="rect" id="node18" href="task__mouse_8c.html#ac5aaa616044b7bef9f75347719181dbe" title="Set current mouse wheel step size. " alt="" coords="885,613,1011,640"/>
<area shape="rect" id="node10" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="1147,715,1269,741"/>
<area shape="rect" id="node12" href="task__commands_8c.html#ad59215648a26578c22baa7ceae099e0e" title="Print the current slot configurations (general settings + VBs) " alt="" coords="902,917,994,944"/>
<area shape="rect" id="node13" href="hal__storage_8c.html#ac67aaf5a3af4140bff3d7c134b9d771f" title="Start a storage transaction. " alt="" coords="1118,1288,1298,1315"/>
<area shape="rect" id="node15" href="hal__storage_8c.html#a7e0a934f829b47e2445189dd95e962d6" title="Get the number of stored slots. " alt="" coords="1111,1389,1305,1416"/>
<area shape="rect" id="node17" href="hal__storage_8c.html#a00b5db14e24d7ada8a42aa6b3f1a1cb7" title="Finish a storage transaction. " alt="" coords="1115,1339,1301,1365"/>
<area shape="rect" id="node14" href="hal__storage_8c.html#a606e5842dd354f1fb4a738ba95c6d5d1" title="internal function to init the filesystem if handle is invalid " alt="" coords="1396,1288,1499,1315"/>
<area shape="rect" id="node16" href="hal__storage_8c.html#a4b6566ef5b69c85d422df52435c95d36" title="Internal helper to check for a valid WL handle and the correct tid. " alt="" coords="1383,1491,1512,1517"/>
<area shape="rect" id="node20" href="config__switcher_8c.html#a083adf41746c3380dcc6dbc099047f2e" title="FUNCTIONAL TASK &#45; Load another slot. " alt="" coords="1139,1541,1277,1568"/>
<area shape="rect" id="node21" href="hal__storage_8c.html#aadf9ff06990d0f0af2eea2e6f2b8082a" title="Store a generalConfig_t struct. " alt="" coords="1151,1440,1265,1467"/>
<area shape="rect" id="node22" href="hal__storage_8c.html#a1503debb336ea2d708e4e0884c7aa6a3" title="Store a virtual button config struct. " alt="" coords="1109,1491,1307,1517"/>
<area shape="rect" id="node24" href="task__kbd_8c.html#a8ff4618047a049178bfb1d60abfefb5d" title="FUNCTIONAL TASK &#45; trigger keyboard actions. " alt="" coords="652,157,759,184"/>
<area shape="rect" id="node26" href="keyboard_8c.html#add849eefda31316c7d22d45f49e261e2" title="Parse a decoded code point to a keycode, step 2. " alt="" coords="635,56,776,83"/>
<area shape="rect" id="node27" href="keyboard_8c.html#a6b593fa493aea40be410640981b1c181" title="Parse a keycode for deadkey input, step 3. " alt="" coords="633,107,778,133"/>
<area shape="rect" id="node28" href="keyboard_8c.html#a464318439ffe82e71e063a5c9582aa69" title="Mask the keycode to get the HID keycode, step 4. " alt="" coords="647,208,764,235"/>
<area shape="rect" id="node29" href="keyboard_8c.html#acdbf297ed74d4534f035e0732c2f1081" title="Mask the keycode to get the modifiers, step 5. " alt="" coords="634,259,777,285"/>
<area shape="rect" id="node30" href="keyboard_8c.html#a74d92b54cde636cae76575e8b0cad378" title="Parse a key identifier to a keycode. " alt="" coords="620,309,791,336"/>
<area shape="rect" id="node31" href="keyboard_8c.html#aa5712a49152638257c16d39ea798a43e" title="Is this keycode a modifier? " alt="" coords="635,5,776,32"/>
<area shape="rect" id="node25" href="task__kbd_8c.html#a7d605cb2407a7a7309911c70e28a9884" title="Helper function sending to queues depending on connection type. " alt="" coords="911,157,985,184"/>
<area shape="rect" id="node33" href="hal__ble_8c.html#accf307974a0046bce38582d0260bf841" title="halBLEReset" alt="" coords="656,972,755,999"/>
<area shape="rect" id="node35" href="hal__serial_8c.html#ab2261f95747ee5806ebdec880d09ca89" title="Reset the serial HID report data. " alt="" coords="895,867,1001,893"/>
<area shape="rect" id="node36" href="hal__storage_8c.html#a5fe9e276fd05e50e4ab9d554ef6f58ca" title="Delete one or all slots. " alt="" coords="1135,1085,1281,1112"/>
<area shape="rect" id="node37" href="hal__storage_8c.html#aae19bcf97360ccd7af4ddf906ff85141" title="Get the number of a slotname. " alt="" coords="1105,1187,1311,1213"/>
<area shape="rect" id="node34" href="esp__hidd__prf__api_8c.html#a0e953976c5ad30d8508ac11bc61cb6b2" title="esp_hidd_send_mouse\l_value" alt="" coords="871,969,1025,1010"/>
<area shape="rect" id="node39" href="task__infrared_8c.html#a2950159444d03958630c6731bd1600c9" title="FUNCTIONAL TASK &#45; Infrared command sending. " alt="" coords="899,1339,997,1365"/>
<area shape="rect" id="node40" href="hal__storage_8c.html#a8347d2c8df82d17bc9af1d007bfd11ae" title="Delete one or all IR commands. " alt="" coords="1126,1592,1290,1619"/>
<area shape="rect" id="node41" href="hal__storage_8c.html#a531bc39bc2808762298d14b79ac453cd" title="Get the number of an IR command. " alt="" coords="839,1693,1057,1720"/>
<area shape="rect" id="node42" href="task__infrared_8c.html#a6f7bfd75e03bde856f3e5fc9a2391fe3" title="Trigger an IR command recording. " alt="" coords="894,1440,1002,1467"/>
<area shape="rect" id="node43" href="hal__storage_8c.html#a1495c793604980c76b334f6a6d553c3c" title="Get the number of stored IR commands. " alt="" coords="841,1744,1055,1771"/>
<area shape="rect" id="node44" href="hal__storage_8c.html#a53912e9159b29e5fc974a127dbf0982f" title="Get the name of an infrared command stored at the given slot number. " alt="" coords="839,1643,1057,1669"/>
<area shape="rect" id="node46" href="hal__adc_8c.html#a3217185bc86562dee8617ded3872022f" title="FUNCTIONAL TASK &#45; Trigger zero&#45;point calibration of mouthpiece. " alt="" coords="649,461,762,488"/>
<area shape="rect" id="node48" href="task__macros_8c.html#a7acda2dcac23ebfffade8a15b40d219f" title="FUNCTIONAL TASK &#45; Macro execution. " alt="" coords="660,1541,751,1568"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a1441452b2b1c337c41096e3d0bf2fdd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1441452b2b1c337c41096e3d0bf2fdd6">&#9670;&nbsp;</a></span>currentCommandTask</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TaskHandle_t currentCommandTask = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00058">58</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l01523">taskCommandsInit()</a>, and <a class="el" href="task__commands_8c_source.html#l01540">taskCommandsRestart()</a>.</p>

</div>
</div>
<a id="a598fa24559f0c3a64692abf7764545d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a598fa24559f0c3a64692abf7764545d9">&#9670;&nbsp;</a></span>requestUpdate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t requestUpdate = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If any parsing part requests a general config update, this variable is set to 1. task_commands will reset it to 0 after the update </p>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00076">76</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00613">doGeneralCmdParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00478">doInfraredParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00154">doMouthpieceSettingsParsing()</a>, and <a class="el" href="task__commands_8c_source.html#l01181">task_commands()</a>.</p>

</div>
</div>
<a id="aa2d17c65b4d8f49e32ffb6987bb33ac5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2d17c65b4d8f49e32ffb6987bb33ac5">&#9670;&nbsp;</a></span>requestVBParameter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* requestVBParameter = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00069">69</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00478">doInfraredParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00852">doKeyboardParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01031">doMacroParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01057">doMouseParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00154">doMouthpieceSettingsParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00392">doStorageParsing()</a>, and <a class="el" href="task__commands_8c_source.html#l01181">task_commands()</a>.</p>

</div>
</div>
<a id="a72a3465e14641646907f99794f88e6dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72a3465e14641646907f99794f88e6dc">&#9670;&nbsp;</a></span>requestVBParameterSize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t requestVBParameterSize = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00066">66</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00478">doInfraredParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00852">doKeyboardParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01031">doMacroParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01057">doMouseParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00154">doMouthpieceSettingsParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00392">doStorageParsing()</a>, and <a class="el" href="task__commands_8c_source.html#l01181">task_commands()</a>.</p>

</div>
</div>
<a id="a9c73c48b3f99599795437a9a22ed98d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c73c48b3f99599795437a9a22ed98d5">&#9670;&nbsp;</a></span>requestVBTask</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* requestVBTask) (void *) = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000009">Todo:</a></b></dt><dd>documentate this stuff </dd></dl>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00063">63</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00478">doInfraredParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00852">doKeyboardParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01031">doMacroParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01057">doMouseParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00154">doMouthpieceSettingsParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00392">doStorageParsing()</a>, and <a class="el" href="task__commands_8c_source.html#l01181">task_commands()</a>.</p>

</div>
</div>
<a id="af2fcbc3f27a33e58b92d0b0a979a3b33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2fcbc3f27a33e58b92d0b0a979a3b33">&#9670;&nbsp;</a></span>requestVBType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="common_8h.html#ac27b6f4710923c6689834e86aea228ac">command_type_t</a> requestVBType = <a class="el" href="common_8h.html#ac27b6f4710923c6689834e86aea228aca43adee93f5ac14f200b55ebb92de2cd4">T_NOFUNCTION</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00072">72</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00478">doInfraredParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00852">doKeyboardParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01031">doMacroParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01057">doMouseParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00154">doMouthpieceSettingsParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00392">doStorageParsing()</a>, and <a class="el" href="task__commands_8c_source.html#l01181">task_commands()</a>.</p>

</div>
</div>
<a id="a92f6cea4b2f3b9af0abce6f8fcf3da97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92f6cea4b2f3b9af0abce6f8fcf3da97">&#9670;&nbsp;</a></span>requestVBUpdate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t requestVBUpdate = <a class="el" href="common_8h.html#a784ceb4b2d4c4fb77baa99646c6e5035">VB_SINGLESHOT</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Currently used virtual button number. </p>
<p>If this variable is set to a value != VB_SINGLESHOT any following AT command will be set for this virtual button. task_commands will recognize this and triggers the VB update after command parsing. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="common_8h.html#a784ceb4b2d4c4fb77baa99646c6e5035">VB_SINGLESHOT</a> </dd>
<dd>
<a class="el" href="task__commands_8c.html#a72a3465e14641646907f99794f88e6dc">requestVBParameterSize</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="task__commands_8c_source.html#l00087">87</a> of file <a class="el" href="task__commands_8c_source.html">task_commands.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00613">doGeneralCmdParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00478">doInfraredParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00852">doKeyboardParsing()</a>, <a class="el" href="task__commands_8c_source.html#l01057">doMouseParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00154">doMouthpieceSettingsParsing()</a>, <a class="el" href="task__commands_8c_source.html#l00392">doStorageParsing()</a>, and <a class="el" href="task__commands_8c_source.html#l01181">task_commands()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
