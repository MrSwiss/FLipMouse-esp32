<html>
<head>
    <title>FlipMouse WebGUI</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="jquery.mobile.custom.structure.min.css">
    <link rel="stylesheet" href="jquery.mobile.custom.theme.min.css">
    <link rel="stylesheet" href="esp32.css">
    <script src="jq.js"></script>
    <script src="jquery.mobile.custom.min.js"></script>
    <script src="lib/lquery.js"></script>
    <script src="lib/areCommunicatorLight.js"></script>
    <script src="lib/flipMouseCommunicator.js"></script>
    <script>
        $(document).ready(function () {
            var flip = new FlipMouse(function (config) {
                L("#SENSITIVITY_X").value = config[flip.SENSITIVITY_X];
                L("#SENSITIVITY_Y").value = config[flip.SENSITIVITY_Y];
                L("#DEADZONE_X").value = config[flip.DEADZONE_X];
                L("#DEADZONE_Y").value = config[flip.DEADZONE_Y];

                $("#SENSITIVITY_X").slider("refresh");
                $("#SENSITIVITY_Y").slider("refresh");
                $("#DEADZONE_X").slider("refresh");
                $("#DEADZONE_Y").slider("refresh");

                console.log(config);
            });
            document.flip = flip;

            $("#basic-button").click(function () {
                flip.save();
            });
        });

        function sliderChanged(evt) {
            document.flip.setValue(evt.currentTarget.id, evt.currentTarget.value);
        }
    </script>
</head>
<body>
<div data-role="page">

    <div data-role="header">
        <h1>FlipMouse WebGUI</h1>
    </div><!-- /header -->

    <div role="main" class="ui-content">
        <div data-role="tabs" id="tabs">
            <div data-role="navbar">
                <ul>
                    <li><a href="#basic" data-ajax="false" class="ui-btn-active">Basic Setup</a></li>
                    <li><a href="#sippuff" data-ajax="false">Sip and Puff</a></li>
                    <li><a href="#actions" data-ajax="false">Learn Actions</a></li>
                </ul>
            </div>
            <div id="basic" class="ui-body-d ui-content">
                <div class="empty-separator"></div>
                <label for="basic-1">Horizontal Sensitivity:</label>
                <input type="range" data-clear-btn="true" onchange="sliderChanged(event)" name="sensitivityX"
                       id="SENSITIVITY_X" min="0" max="100">
                <label for="basic-2">Vertical Sensitivity:</label>
                <input type="range" data-clear-btn="true" name="sensitivityY" onchange="sliderChanged(event)"
                       id="SENSITIVITY_Y" min="0" max="100">
                <div class="empty-separator"></div>
                <label for="basic-3">Horizontal Deadzone:</label>
                <input type="range" data-clear-btn="true" name="DEADZONE_X" id="DEADZONE_X" onchange="sliderChanged(event)" min="0" max="100">
                <label for="basic-4">Vertical Deadzone:</label>
                <input type="range" data-clear-btn="true" name="DEADZONE_Y" id="DEADZONE_Y" onchange="sliderChanged(event)" min="0" max="100">
                <div class="empty-separator"></div>
                <input type="button" id="basic-button" value="Apply">
                <div><input type="checkbox" id="set-led" data-role="flipswitch"></div>
            </div>
            <div id="sippuff" class="ui-body-d ui-content">
                <div class="empty-separator"></div>
                <label for="pressure-1">Pressure level for puff:</label>
                <input type="range" data-clear-btn="true" name="set-pressure-level" id="set-pressure-level" min="0"
                       max="1200">
                <label for="pressure-2">Actual pressure level:</label>
                <input type="number" name="actual-pressure-level" id="actual-pressure-level" value=""
                       data-disabled="true">
                <div class="empty-separator"></div>
                <input type="button" id="pressure-button" value="Apply">

            </div>
            <div id="actions" class="ui-body-d ui-content">
                <div class="empty-separator"></div>

                <label for="action-1">Select an action:</label>
                <select id="actioncommand">
                    <option selected="selected" value="CL">Click Left</option>
                    <option value="CR">Click Right</option>
                    <option value="PL">Press (Hold) Left</option>
                    <option value="KW">Write Keyboard</option>
                </select>
                <label for="action-2">additional paramters (text or value):</label>
                <input type="text" data-clear-btn="true" name="actionparameter" id="actionparameter" value="">
                <div class="empty-separator"></div>
                <input type="button" id="action-button" value="Learn Gesture">
            </div>
        </div>
    </div><!-- /content -->

    <div data-role="footer" data-position="fixed">
        <h4 id="status"></h4>
    </div><!-- /footer -->

</div><!-- /page -->


</body>
</html>